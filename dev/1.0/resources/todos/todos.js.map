{"version":3,"sources":["webpack:///./src/todos/todos.js","webpack:///./src/assets/style/reset.css","webpack:///./src/assets/style/common.less","webpack:///./src/todos/ref/LimsTab.js","webpack:///./src/todos/ref/TodoMenu.js","webpack:///./src/components/LimsLink.js","webpack:///./src/todos/ref/ViewAnalysis.js","webpack:///./src/todos/ref/ViewCoa.js","webpack:///./src/todos/ref/AnalysisInfo.js","webpack:///./src/todos/ref/AnalysisApprove.js","webpack:///./src/todos/ref/CoaInfo.js","webpack:///./src/todos/ref/CoaApprove.js","webpack:///./~/iscroll/build/iscroll-probe.js","webpack:///./src/assets/js/react-iscroll.js","webpack:///./src/todos/todos.less","webpack:///./src/assets/common/limsapi.js","webpack:///./src/assets/common/apifactory.js","webpack:///./src/assets/js/util.js","webpack:///./src/assets/js/config.js","webpack:///./src/todos/todohelp.js"],"names":[],"mappings":"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CA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,6BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,qBAAoB,UAAU;AAC9B,oBAAmB,UAAU;;AAE7B;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;AACD;AACA;AACA;AACA,2CAA0C;;AAE1C;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6BAA4B,8CAA8C;;AAE1E;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,sCAAqC;;AAErC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA,uCAAsC;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAA+B;AAC/B,KAAI;AACJ,gCAA+B;AAC/B,KAAI;AACJ,gCAA+B;AAC/B;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA4B;;AAE5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,qLAAoL;AACpL,oLAAmL;AACnL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA,sCAAqC;;AAErC;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,UAAS,OAAO;AAChB;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;;AAGA;AACA,yCAAwC,KAAK;AAC7C;AACA;AACA;;;AAGA;;AAEA,GAAE;;AAEF;AACA;;;AAGA;AACA,yCAAwC,KAAK;AAC7C;AACA;AACA;;;AAGA;;AAEA,GAAE;;AAEF;AACA;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA,wCAAuC,KAAK;AAC5C;AACA;AACA;;;AAGA;;AAEA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA,WAAU;AACV,GAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mCAAkC,KAAK;AACvC;AACA;;AAEA;AACA;AACA;AACA,0CAAyC,KAAK;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,KAAI;;AAEJ;AACA;AACA;AACA,MAAK;AACL,KAAI;;AAEJ;AACA;AACA;AACA,MAAK;AACL,KAAI;;AAEJ;AACA;AACA;AACA,MAAK;AACL,KAAI;AACJ;;;AAGA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA,KAAI;;AAEJ;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA,YAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA,YAAW;AACX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA,UAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;;AAEA;;AAEA,UAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gDAA+C;AAC/C,4DAA2D,2BAA2B,sBAAsB,kBAAkB,2BAA2B,uCAAuC;AAChM;;AAEA;;AAEA;AACA;AACA,iCAAgC,WAAW,SAAS,UAAU;AAC9D;AACA;AACA;AACA,GAAE;AACF;AACA,iCAAgC,UAAU,WAAW,QAAQ;AAC7D;AACA;AACA;AACA;;AAEA,+BAA8B;;AAE9B;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,qCAAoC;;AAEpC;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;AACD,wDAA6B,gBAAgB,EAAE;AAC/C,EAAC;AACD;AACA;;AAEA,EAAC;;;;;;;;;;;ACtkED;;;;AAEA,QAAO,cAAP,CAAsB,OAAtB,EAA+B,YAA/B,EAA6C;AAC3C,UAAO;AADoC,EAA7C;;AAIA,KAAI,iBAAiB,YAAY;AAAE,YAAS,aAAT,CAAuB,GAAvB,EAA4B,CAA5B,EAA+B;AAAE,SAAI,OAAO,EAAX,CAAe,IAAI,KAAK,IAAT,CAAe,IAAI,KAAK,KAAT,C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","file":"resources/todos/todos.js","sourcesContent":["/**\r\n * Created by gaoxin on 2016/6/15.\r\n */\r\n\r\nrequire('assets/style/reset.css');\r\nrequire('assets/style/common.less');\r\nrequire('./todos.less');\r\n\r\nlet React = require('react');\r\nlet ReactDOM = require('react-dom');\r\nimport { Router, Route, Link,IndexRoute,hashHistory,browserHistory} from 'react-router'\r\n\r\nlet limsCaller = require('assets/common/limsapi').limsCaller();\r\nlet limsRegister = require('assets/common/limsapi').limsRegister();\r\n\r\nrequire('assets/js/util');\r\nrequire('assets/js/config');\r\n\r\nlet LimsLink = require('components/LimsLink');\r\nlet TodoHelp = require('./todohelp');\r\n\r\nimport LimsTab from './ref/LimsTab';\r\nimport  TodoMenu from './ref/TodoMenu';\r\nimport ViewAnalysis from './ref/ViewAnalysis';\r\nimport ViewCoa from './ref/ViewCoa';\r\nimport AnalysisInfo from './ref/AnalysisInfo';\r\nimport AnalysisApprove from './ref/AnalysisApprove';\r\nimport CoaInfo from './ref/CoaInfo';\r\nimport CoaApprove from './ref/CoaApprove';\r\n\r\nimport iScroll from 'iscroll'\r\nimport ReactIScroll from 'assets/js/react-iscroll'\r\n\r\nconst iScrollOptions = {\r\n  mouseWheel: true,\r\n  scrollbars: true,\r\n  scrollX: false,\r\n  probeType: 3,\r\n  preventDefaultException: { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|LI)$/ }\r\n}\r\n\r\n//审核主页面\r\nconst TodoApp = new React.createClass({\r\n  contextTypes: {\r\n    router: React.PropTypes.object.isRequired\r\n  },\r\n  onJsApi: function (to) {\r\n    //H5页面按钮调用原生\r\n    let _url = TodoHelp.getURL(to);\r\n    console.log(_url);\r\n    limsCaller.pushView({url: _url}, function () {\r\n    });\r\n  },\r\n  render: function () {\r\n    //console.log(this.props.children);\r\n    return (\r\n        <TodoMenu onJsApi={this.onJsApi}></TodoMenu>\r\n    );\r\n  },\r\n  componentWillUnmount: function () {\r\n\r\n  }\r\n});\r\n\r\n//Tab组件\r\nconst TodoTab = React.createClass({\r\n      getInitialState() {\r\n        return {\r\n          tabStatus: 'active'\r\n\r\n        };\r\n      },\r\n      contextTypes: {\r\n        router: React.PropTypes.object.isRequired\r\n      },\r\n\r\n      componentWillMount: function () {\r\n        let { type }=this.props.location.query;\r\n\r\n        switch (parseInt(type) ){\r\n          case 0:\r\n            TodoHelp.setTitle('消息管理');\r\n            break;\r\n          case 1:\r\n            TodoHelp.setTitle('分析任务审核');\r\n            break;\r\n          case 2:\r\n            TodoHelp.setTitle('合格证审核');\r\n            break;\r\n        }\r\n\r\n      },\r\n\r\n      tabClick: function (sign) {\r\n\r\n        //sign为0是待办，1是已办\r\n        let { type }=this.props.location.query;\r\n        this.context.type = type;\r\n        this.context.router.push(\r\n            {\r\n              pathname: \"/todotab/todolist/\" + sign,\r\n              action: \"REPLACE\",\r\n              query: {type: type}\r\n            }\r\n        );\r\n\r\n      },\r\n      render: function () {\r\n        return (\r\n            <div id=\"todo-list\">\r\n              <LimsTab tabClick={ this.tabClick}></LimsTab>\r\n              {this.props.children}\r\n            </div>\r\n\r\n        );\r\n      }\r\n    });\r\n\r\n//TabList\r\nconst TodoList = React.createClass({\r\n  defaults: {\r\n    pageindex: 1,\r\n    pagesize: 5,\r\n    uid: ''\r\n  },\r\n  getInitialState(){\r\n    return {\r\n      data_analysis: [],\r\n      data_coa: [],\r\n      todoDone: 0,\r\n      todoType: 0,\r\n      pageindex: this.defaults.pageindex,\r\n      y: 0,\r\n      isScrolling: false\r\n    };\r\n  },\r\n  contextTypes: {\r\n    router: React.PropTypes.object.isRequired\r\n  },\r\n  componentWillMount: function () {\r\n\r\n    let todoDone = this.props.params.isdone;\r\n    let { type }=this.props.location.query;\r\n    this.setState({todoDone: todoDone && parseInt(todoDone), todoType: type && parseInt(type)});\r\n\r\n  },\r\n  componentDidMount: function () {\r\n    var that= this;\r\n    TodoHelp.getUser(function(data){\r\n      TodoHelp.setUser(data);\r\n      $.extend(that.defaults, { isDone:that.state.isDone,uid:LimsUser.IDENTITY });\r\n      that.queryList(that.defaults);\r\n\r\n    });\r\n  },\r\n  componentWillReceiveProps: function (nextProps) {\r\n\r\n    if (this.state.todoDone == parseInt(nextProps.params.isdone)) {\r\n      return;\r\n    }\r\n    //this.setState({data_analysis: [], data_coa: [], todoDone: parseInt(nextProps.params.isdone)});\r\n    $.extend(this.defaults, { isDone:parseInt(nextProps.params.isdone) });\r\n    this.queryList(this.defaults);\r\n\r\n  },\r\n  //shouldComponentUpdate(nextProps, nextState){\r\n  //  //if (this.state.toDone == nextState.todoDone || this.state.todoType == nextProps.todoType){\r\n  //  //  return false;\r\n  //  //}\r\n  //  return true;\r\n  //\r\n  //  //return this.state.todoDone != nextState.todoDone; //状态不一致才更新\r\n  //},\r\n  sendAjax:function(params){\r\n    var that = this;\r\n    util.api({\r\n      url: '/AppService.svc/GetTodosData',\r\n      data: params,\r\n      type: 'get',\r\n      success: data => {\r\n\r\n        if (data['msgcode']) {\r\n          util.hidLoading();\r\n\r\n          params.type==1\r\n              ? that.setState({todoDone:params.isDone,data_analysis: data['data']['fields']})\r\n              : that.setState({todoDone:params.isDone,data_coa: data['data']['fields']});\r\n        }\r\n      },\r\n      complete: function () {\r\n\r\n      }\r\n    }, false);\r\n  },\r\n  queryList: function (params) {\r\n    //type为审核类型，1为分析任务审核，2为合格证审核\r\n    util.showLoading();\r\n\r\n    if (this.state.todoType == 1 || this.state.todoType == 0) {\r\n      var params1= util.clone(params);\r\n      this.sendAjax( $.extend(params1, {type: 1}));\r\n    }\r\n    //如果是消息管理，继续加载列表\r\n    if (this.state.todoType == 2 || this.state.todoType == 0) {\r\n      var param2= util.clone(params);\r\n      this.sendAjax($.extend(param2, {type: 2}));\r\n\r\n    }\r\n\r\n  },\r\n  onJsApi: function (to) {\r\n    let _url = TodoHelp.getURL(to);\r\n    console.log(_url);\r\n\r\n    let _json = {\r\n      url: _url,\r\n      \"button\": [\r\n        {\r\n          \"text\": \"审核\",\r\n          \"icon\": \"\",\r\n          \"jsapi\": \"approveBridge\"\r\n        }\r\n      ],\r\n      \"params\": to.query\r\n    }\r\n    //如果是已办，不设置button\r\n    if (this.state.todoDone){\r\n      _json['button'].length=0;\r\n    }\r\n    limsCaller.pushView(_json, function (response) {\r\n    });\r\n\r\n  },\r\n  backFunction: function () {\r\n    //browserHistory.goBack();\r\n    this.context.router.replace('/');\r\n  },\r\n  onScrollStart:function(iScrollInstance){\r\n    this.setState({isScrolling: true})\r\n    console.log(`start:${iScrollInstance.y}`);\r\n  },\r\n  onScrollEnd:function(iScrollInstance){\r\n\r\n    this.setState({isScrolling: false, y: iScrollInstance.y})\r\n    console.log(`end:${iScrollInstance.y}`);\r\n  },\r\n  onScrollRefresh:function(iScrollInstance){\r\n    const hasVerticalScroll = iScrollInstance.hasVerticalScroll\r\n\r\n    if(this.state.canVerticallyScroll !== hasVerticalScroll) {\r\n      this.setState({canVerticallyScroll: hasVerticalScroll})\r\n    }\r\n  },\r\n  onScroll:function(iScrollInstance){\r\n    //console.log(`onScroll:${iScrollInstance.y}`);\r\n  },\r\n  render: function () {\r\n\r\n    //根据params.id不同，请求不同list\r\n    let createItemAnaysis = (item, index) => {\r\n      return (\r\n          <LimsLink className=\"link-item\" onJsApi={this.onJsApi}\r\n                    to={{ pathname: '/todoinfo', query:{sign:this.state.todoType, type:1,data:encodeURIComponent(JSON.stringify(item&&item['fieldList']))}}}>\r\n            <ViewAnalysis todoType={this.state.pageindex} todoDone={this.state.todoDone} item={item&&item['fieldList']}></ViewAnalysis>\r\n          </LimsLink>\r\n      );\r\n    };\r\n    let createItemCoa = (item, index) => {\r\n      return (\r\n          <LimsLink className=\"link-item\" onJsApi={this.onJsApi}\r\n                    to={{ pathname: '/todoinfo', query:{sign:this.state.todoType, type:2,data:encodeURIComponent(JSON.stringify(item&&item['fieldList']))}}}>\r\n            <ViewCoa todoType={this.state.pageindex} todoDone={this.state.todoDone} item={item&&item['fieldList']}></ViewCoa>\r\n          </LimsLink>\r\n      );\r\n    };\r\n\r\n    return (\r\n        <div id=\"wrapper\">\r\n          <ReactIScroll iScroll={iScroll}\r\n                        options={iScrollOptions}\r\n                        onScrollStart={this.onScrollStart}\r\n                        onScrollEnd={this.onScrollEnd}\r\n                        onRefresh={this.onScrollRefresh}\r\n                        onScroll={this.onScroll}>\r\n          <div id=\"scroller\">\r\n            { (this.state.todoType==1||this.state.todoType==0) &&this.state.data_analysis && this.state.data_analysis.map(createItemAnaysis)}\r\n            { (this.state.todoType==2||this.state.todoType==0) &&this.state.data_coa && this.state.data_coa.map(createItemCoa)}\r\n\r\n          </div>\r\n          </ReactIScroll>\r\n\r\n        </div>\r\n    );\r\n\r\n  }\r\n\r\n});\r\n\r\n//TabInfo\r\nconst TodoInfo = React.createClass({\r\n\r\n  onAppApi: function (query) {\r\n    //H5页面按钮调用原生\r\n    let _url = TodoHelp.getURL({pathname: '/todoapprove', query: query});\r\n\r\n    console.log(_url);\r\n    limsCaller.pushView({url: _url}, function (response) {\r\n    });\r\n\r\n  },\r\n  componentWillMount: function () {\r\n\r\n    //如果是app模式则注册JS桥\r\n    //alert(this.props.onJsApi);\r\n    if (LimsConfig.isApp) {\r\n      TodoHelp.setTitle('详细数据');\r\n      //拿到LOCATION,调用JS桥推送location页面\r\n      var _this = this;\r\n      limsRegister.approveBridge(function (data, responseCallback) {\r\n        //推审核的页面\r\n\r\n        _this.onAppApi(data);\r\n      });\r\n    }\r\n  },\r\n  componentDidMount: function () {\r\n  },\r\n  contextTypes: {\r\n    currentInfo: React.PropTypes.object\r\n  },\r\n  render: function () {\r\n\r\n    let {data,type}=this.props.location.query;\r\n    let result = JSON.parse(decodeURIComponent(data));\r\n    switch (parseInt(type)) {\r\n      case 1:\r\n        return (\r\n            <div>\r\n              <AnalysisInfo data={ result }></AnalysisInfo>\r\n              <div onClick={()=>{ browserHistory.goBack() }}>点我返回</div>\r\n            </div>\r\n        );\r\n        break;\r\n      case 2:\r\n        return (\r\n            <div>\r\n              <CoaInfo data={ result }></CoaInfo>\r\n              <div onClick={()=>{ browserHistory.goBack() }}>点我返回</div>\r\n            </div>\r\n        );\r\n        break;\r\n      default:\r\n        break;\r\n\r\n    }\r\n\r\n  }\r\n});\r\n\r\n//TodoApprove\r\nconst TodoApprove = React.createClass({\r\n  defaults : {\r\n    uid:'',\r\n    recordkey:'',\r\n    uname:'',\r\n    type:0,\r\n    sign:0 //跳转到消息管理还是其他审核\r\n\r\n },\r\n  propType: {\r\n    todoStatus: React.PropTypes.int\r\n  },\r\n  getDefaultProps: function () {\r\n    return {\r\n      todoStatus: 1\r\n    };\r\n  },\r\n\r\n  contextTypes: {\r\n    router: React.PropTypes.object.isRequired\r\n  },\r\n  componentWillMount: function () {\r\n\r\n    let {data,type,sign}=this.props.location.query;\r\n    var result = JSON.parse(decodeURIComponent(data));\r\n\r\n    for (var item of result) {\r\n      if (item['id']=='IDENTITY' || item['id']=='ID'){\r\n        this.defaults.recordkey=item['value'];\r\n        break;\r\n      }\r\n    }\r\n    this.defaults.type= type;\r\n    this.defaults.sign= sign;\r\n    TodoHelp.setTitle(type==1?`委托单号${this.defaults.recordkey}`:`样品编号${this.defaults.recordkey}`);\r\n\r\n  },\r\n  submitForm: function (action, text) {\r\n\r\n    let recordkey=this.defaults.recordkey;\r\n    let uname='系统';\r\n    let uid='';\r\n\r\n    let posturl=this.defaults.type==1?'CheckAnalysis':'CheckCoa';\r\n    let postData = {action, text, recordkey, uname , uid};\r\n\r\n    var that= this;\r\n    TodoHelp.getUser(function(data){\r\n      TodoHelp.setUser(data);\r\n\r\n      $.extend(postData, { uid:LimsUser.IDENTITY });\r\n\r\n      util.showLoading();\r\n      util.api({\r\n        url: '/AppService.svc/'+posturl,\r\n        data: postData,\r\n        type: 'get',\r\n        success: data => {\r\n\r\n          if (data['msgcode']) {\r\n            util.hidLoading();\r\n            util.showTip('提交成功!1s后跳转');\r\n            setTimeout(function () {\r\n              TodoHelp.popView('message');\r\n              //alert(that.defaults.sign);\r\n              //sign为0是待办，1是已办,此处判断进入消息管理\r\n              //that.context.router.push(\r\n              //    {\r\n              //      pathname: \"/todotab/todolist/0\",\r\n              //      action: \"REPLACE\",\r\n              //      query: {type: type}\r\n              //    }\r\n              //);\r\n              //util.hidLoading();\r\n\r\n            }, 1000);\r\n          }\r\n        },\r\n        complete: function () {\r\n\r\n        }\r\n      }, false);\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  },\r\n  render(){\r\n    let {type}=this.props.location.query;\r\n    switch (parseInt(type)) {\r\n      case 1:\r\n        return (\r\n            <div>\r\n              <AnalysisApprove submitForm={this.submitForm}></AnalysisApprove>\r\n              <div onClick={()=>{ browserHistory.goBack() }}>点我返回</div>\r\n            </div>\r\n        );\r\n        break;\r\n      case 2:\r\n        return (\r\n            <div>\r\n              <CoaApprove submitForm={this.submitForm}></CoaApprove>\r\n              <div onClick={()=>{ browserHistory.goBack() }}>点我返回</div>\r\n            </div>\r\n        );\r\n        break;\r\n      default:\r\n        break;\r\n\r\n    }\r\n\r\n  }\r\n\r\n});\r\n\r\n//NoMatch\r\nconst NoMatch = React.createClass({\r\n  render() {\r\n    return <h3>没有匹配的路径</h3>\r\n  }\r\n});\r\n\r\nconst Dashboard = React.createClass({\r\n  render() {\r\n    return <div>Welcome to the app!</div>\r\n  }\r\n})\r\n\r\nconst DashboardAbout = React.createClass({\r\n  render() {\r\n    return <div>Welcome to the 审核!</div>\r\n  }\r\n})\r\n\r\nReactDOM.render(\r\n    <div>\r\n      {\r\n        <Router history={hashHistory} location=\"history\">\r\n          <Route path=\"/\" component={TodoApp}>\r\n\r\n          </Route>\r\n          <Route path=\"todotab\" component={TodoTab} onLeave={()=>{console.log(\"离开了about路由页面\");}}\r\n                 onEnter={()=>{console.log(\"进入about路由页面\")}}>\r\n            <IndexRoute component={DashboardAbout}/>\r\n\r\n            <Route path=\"todolist/:isdone\" component={TodoList}>\r\n              <IndexRoute component={Dashboard}/>\r\n            </Route>\r\n\r\n          </Route>\r\n          <Route path=\"todoinfo\" component={TodoInfo}>\r\n\r\n          </Route>\r\n          <Route path=\"todoapprove\" component={TodoApprove}>\r\n\r\n          </Route>\r\n          <Route path=\"*\" component={NoMatch}/>\r\n        </Router>\r\n\r\n      }\r\n    </div>,\r\n    document.getElementById('app')\r\n);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/todos/todos.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/assets/style/reset.css\n ** module id = 168\n ** module chunks = 0 1 2\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/assets/style/common.less\n ** module id = 170\n ** module chunks = 0 1 2\n **/","/**\r\n * Created by gaoxin on 2016/7/27.\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { render } from 'react-dom';\r\n\r\nexport default class LimsTab extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      liked: false,\r\n      actived:0\r\n    };\r\n    this.tabClick = this.tabClick.bind(this);\r\n  }\r\n\r\n  tabClick=(type,e)=>{\r\n    //console.log(type);\r\n    //console.log(e.target);\r\n\r\n      this.setState({ actived: type });\r\n      this.props.tabClick(type);\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.tabClick(0);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <ul className=\"tab\" key={Date.now()+Math.random()*1000}>\r\n        <li className={ this.state.actived==0?'active':'' } onClick={this.tabClick.bind(this,0)}><i></i><span>待办</span></li>\r\n        <li className={ this.state.actived==1?'active':'' }  onClick={this.tabClick.bind(this,1)}><i></i><span>已办</span></li>\r\n        </ul>\r\n\r\n    );\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/todos/ref/LimsTab.js\n **/","/**\r\n * Created by gaoxin on 2016/7/27.\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { render } from 'react-dom';\r\nlet LimsLink = require('components/LimsLink');\r\n\r\nexport default class TodoMenu extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n  onJsApi=(e)=>{\r\n    this.props.onJsApi(e);\r\n  }\r\n  render() {\r\n    return (\r\n        <div id=\"todos-menu\">\r\n          <LimsLink className=\"link-item\"\r\n                    onJsApi={this.onJsApi}\r\n                    to={{ pathname: '/todotab', query:{type:1}}}>\r\n            <div className=\"menu menu_analysis\"><span>分析任务审核</span><i></i></div>\r\n          </LimsLink>\r\n\r\n          <LimsLink className=\"link-item\"\r\n                    onJsApi={this.onJsApi}\r\n                    to={{ pathname: '/todotab', query:{type:2 }}}>\r\n            <div className=\"menu menu_coa\"><span>合格证审核</span><i></i></div>\r\n          </LimsLink>\r\n\r\n          <LimsLink className=\"link-item\"\r\n                    onJsApi={this.onJsApi}\r\n                    to={{ pathname: '/todotab', query:{type:0 }}}>\r\n            <div className=\"menu menu_coa\"><span>消息管理</span><i></i></div>\r\n          </LimsLink>\r\n\r\n        </div>\r\n\r\n    );\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/todos/ref/TodoMenu.js\n **/","/**\r\n * Created by gaoxin on 2016/7/21.\r\n */\r\n\r\nlet React = require('react');\r\nlet ReactDOM = require('react-dom');\r\n//重写LINK组件\r\nconst LimsLink = React.createClass({\r\n  contextTypes: {\r\n    router: React.PropTypes.object.isRequired\r\n  },\r\n\r\n  componentWillMount: function () {\r\n\r\n  },\r\n  getDefaultProps(){\r\n    return {\r\n      to: {\r\n        pathname: '',\r\n        query: null\r\n      },\r\n      className: '',\r\n      onJsApi: null\r\n    }\r\n\r\n  },\r\n  clickHandle: function (ev) {\r\n     //如果是APP模式，并且设置了jsAPI,则调用该JSAPI，传入PATHNAME和QUERY\r\n    debugger\r\n    ev.preventDefault();\r\n\r\n    if (LimsConfig.isApp && this.props.onJsApi) {\r\n      this.props.onJsApi(this.props.to);\r\n      return;\r\n    }\r\n\r\n    this.context.router.push(\r\n        {\r\n          pathname: this.props.to.pathname,\r\n          query: this.props.to.query\r\n        }\r\n    );\r\n\r\n  },\r\n  render: function () {\r\n    return (<div className={this.props.className} onClick={ this.clickHandle }>{this.props.children}</div>);\r\n\r\n  }\r\n\r\n});\r\nmodule.exports=LimsLink;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/LimsLink.js\n **/","/**\r\n * Created by gaoxin on 2016/7/27.\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { render } from 'react-dom';\r\n\r\nexport default class ViewAnalysis extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n\r\n    if (this.props.todoType == nextProps.todoType&&this.props.todoDone == nextProps.todoDone) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    let createRow = (item, index) => {\r\n      if (item.is_show && item.is_main) {\r\n        return (\r\n            <li key={Date.now()+Math.random()*1000}>\r\n              <span>{item.text}</span><span>{item.value}</span></li>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n        <div id=\"list-data\" className=\"list-data\" key={Date.now()+Math.random()*1000}>\r\n          <div className=\"title\">\r\n            <span>待办类型</span>\r\n            <span>分析任务审批</span>\r\n          </div>\r\n          <ul className=\"content\">\r\n            {this.props.item.map(createRow)}\r\n          </ul>\r\n        </div>\r\n\r\n    );\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/todos/ref/ViewAnalysis.js\n **/","/**\r\n * Created by gaoxin on 2016/7/27.\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { render } from 'react-dom';\r\n\r\nexport default class ViewCoa extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n\r\n    if (this.props.todoType == nextProps.todoType&&this.props.todoDone == nextProps.todoDone) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  render() {\r\n\r\n    let createRow = (item, index) => {\r\n\r\n      if (item.is_show && item.is_main) {\r\n        return (\r\n            <li key={Date.now()+Math.random()*1000}>\r\n              <span>{item.text}</span><span>{item.value}</span></li>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n        <div id=\"list-data\" className=\"list-data\" key={Date.now()+Math.random()*1000}>\r\n          <div className=\"title\">\r\n            <span>待办类型</span>\r\n            <span>合格证审批</span>\r\n          </div>\r\n          <ul className=\"content\">\r\n            {this.props.item.map(createRow)}\r\n          </ul>\r\n        </div>\r\n\r\n    );\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/todos/ref/ViewCoa.js\n **/","/**\r\n * Created by gaoxin on 2016/8/2.\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Link } from 'react-router'\r\n\r\nexport default class AnalysisInfo extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n\r\n  render() {\r\n    let createItem = (item, index) => {\r\n      if (item.is_show)\r\n      {\r\n        return (\r\n            <li key={Date.now()+Math.random()*1000}>\r\n              <span>{item.text}</span>\r\n              <span>{item.value}</span>\r\n            </li>\r\n\r\n        );\r\n      }\r\n    };\r\n\r\n    return (\r\n        <div className=\"todo-info\" id=\"todo-info\">\r\n          <ul>\r\n            { this.props.data.map(createItem)}\r\n          </ul>\r\n\r\n          <Link to={{ pathname: '/todoapprove', query:{type:1,data:encodeURIComponent(JSON.stringify(this.props.data))}}}>点我进入审核</Link>\r\n        </div>\r\n\r\n    );\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/todos/ref/AnalysisInfo.js\n **/","/**\r\n * Created by gaoxin on 2016/8/2.\r\n */\r\n\r\n\r\nimport React, { Component } from 'react';\r\nimport { render } from 'react-dom';\r\n\r\n\r\nexport default class AnalysisApprove extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: '',\r\n      actived: true\r\n    };\r\n  }\r\n\r\n  checkedClick=(e)=>{\r\n    this.setState({ actived: !this.state.actived });\r\n  }\r\n\r\n  handleChange=(e)=>{\r\n\r\n    this.setState({value: this.refs.txtcontent.value});\r\n\r\n  }\r\n\r\n  submitForm= (e)=>{\r\n\r\n    var _isApprove = this.state.actived?'pass':'reject';\r\n\r\n    var _contet= this.state.value;\r\n\r\n    this.props.submitForm(_isApprove, _contet);\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"todo-approve\" id=\"todo-approve\">\r\n          <div className=\"checkboxs\">\r\n            <span onClick={this.checkedClick} className={ this.state.actived?'active':'' } >同意</span>\r\n            <span onClick={this.checkedClick} className={ this.state.actived?'':'active' }>拒绝</span>\r\n          </div>\r\n\r\n          <textarea className=\"textinput\"  value={this.state.value}\r\n                ref=\"txtcontent\"    onChange={this.handleChange.bind(this)} placeholder=\"请输入审批意见!\"></textarea>\r\n          <br/>\r\n          <button className=\"button\" onClick={this.submitForm}>提交</button>\r\n\r\n\r\n        </div>\r\n\r\n    );\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/todos/ref/AnalysisApprove.js\n **/","/**\r\n * Created by gaoxin on 2016/8/2.\r\n */\r\n/**\r\n * Created by gaoxin on 2016/8/2.\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Link } from 'react-router'\r\n\r\nexport default class CoaInfo extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n\r\n  render() {\r\n    let createItem = (item, index) => {\r\n      if (item.is_show)\r\n      {\r\n        return (\r\n            <li key={Date.now()+Math.random()*1000}>\r\n              <span>{item.text}</span>\r\n              <span>{item.value}</span>\r\n            </li>\r\n\r\n        );\r\n      }\r\n    };\r\n\r\n    return (\r\n        <div className=\"todo-info\" id=\"todo-info\">\r\n          <ul>\r\n            { this.props.data.map(createItem)}\r\n          </ul>\r\n\r\n          <Link to={{ pathname: '/todoapprove', query:{ type:2, data:encodeURIComponent(JSON.stringify(this.props.data))}}}>点我进入审核</Link>\r\n        </div>\r\n\r\n    );\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/todos/ref/CoaInfo.js\n **/","/**\r\n * Created by gaoxin on 2016/8/2.\r\n */\r\n\r\n\r\nimport React, { Component } from 'react';\r\nimport { render } from 'react-dom';\r\n\r\n\r\nexport default class CoaApprove extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: '',\r\n      actived: 1\r\n    };\r\n  }\r\n\r\n  checkedClick=(type,e)=>{\r\n    this.setState({ actived: type });\r\n  }\r\n\r\n  handleChange=(e)=>{\r\n    this.setState({value: this.refs.txtcontent.value});\r\n\r\n  }\r\n\r\n  submitForm= (e)=>{\r\n\r\n    var _isApprove = this.state.actived;\r\n    var _contet= this.state.value;\r\n\r\n    this.props.submitForm(_isApprove, _contet);\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"todo-approve\" id=\"todo-approve\">\r\n          <div className=\"checkboxs\">\r\n            <span onClick={this.checkedClick.bind(this,1)} className={ this.state.actived==1?'active':'' } >同意</span>\r\n            <span onClick={this.checkedClick.bind(this,2)} className={ this.state.actived==2?'active':'' }>拒绝</span>\r\n            <span onClick={this.checkedClick.bind(this,3)} className={ this.state.actived==3?'active':'' }>废弃</span>\r\n          </div>\r\n\r\n          <textarea className=\"textinput\"  value={this.state.value}\r\n                    ref=\"txtcontent\"     onChange={this.handleChange} placeholder=\"请输入审批意见!\"></textarea>\r\n          <br/>\r\n          <button className=\"button\" onClick={this.submitForm}>提交</button>\r\n\r\n\r\n        </div>\r\n\r\n    );\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/todos/ref/CoaApprove.js\n **/","/*! iScroll v5.2.0 ~ (c) 2008-2016 Matteo Spinelli ~ http://cubiq.org/license */\n(function (window, document, Math) {\nvar rAF = window.requestAnimationFrame\t||\n\twindow.webkitRequestAnimationFrame\t||\n\twindow.mozRequestAnimationFrame\t\t||\n\twindow.oRequestAnimationFrame\t\t||\n\twindow.msRequestAnimationFrame\t\t||\n\tfunction (callback) { window.setTimeout(callback, 1000 / 60); };\n\nvar utils = (function () {\n\tvar me = {};\n\n\tvar _elementStyle = document.createElement('div').style;\n\tvar _vendor = (function () {\n\t\tvar vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],\n\t\t\ttransform,\n\t\t\ti = 0,\n\t\t\tl = vendors.length;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\ttransform = vendors[i] + 'ransform';\n\t\t\tif ( transform in _elementStyle ) return vendors[i].substr(0, vendors[i].length-1);\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tfunction _prefixStyle (style) {\n\t\tif ( _vendor === false ) return false;\n\t\tif ( _vendor === '' ) return style;\n\t\treturn _vendor + style.charAt(0).toUpperCase() + style.substr(1);\n\t}\n\n\tme.getTime = Date.now || function getTime () { return new Date().getTime(); };\n\n\tme.extend = function (target, obj) {\n\t\tfor ( var i in obj ) {\n\t\t\ttarget[i] = obj[i];\n\t\t}\n\t};\n\n\tme.addEvent = function (el, type, fn, capture) {\n\t\tel.addEventListener(type, fn, !!capture);\n\t};\n\n\tme.removeEvent = function (el, type, fn, capture) {\n\t\tel.removeEventListener(type, fn, !!capture);\n\t};\n\n\tme.prefixPointerEvent = function (pointerEvent) {\n\t\treturn window.MSPointerEvent ?\n\t\t\t'MSPointer' + pointerEvent.charAt(7).toUpperCase() + pointerEvent.substr(8):\n\t\t\tpointerEvent;\n\t};\n\n\tme.momentum = function (current, start, time, lowerMargin, wrapperSize, deceleration) {\n\t\tvar distance = current - start,\n\t\t\tspeed = Math.abs(distance) / time,\n\t\t\tdestination,\n\t\t\tduration;\n\n\t\tdeceleration = deceleration === undefined ? 0.0006 : deceleration;\n\n\t\tdestination = current + ( speed * speed ) / ( 2 * deceleration ) * ( distance < 0 ? -1 : 1 );\n\t\tduration = speed / deceleration;\n\n\t\tif ( destination < lowerMargin ) {\n\t\t\tdestination = wrapperSize ? lowerMargin - ( wrapperSize / 2.5 * ( speed / 8 ) ) : lowerMargin;\n\t\t\tdistance = Math.abs(destination - current);\n\t\t\tduration = distance / speed;\n\t\t} else if ( destination > 0 ) {\n\t\t\tdestination = wrapperSize ? wrapperSize / 2.5 * ( speed / 8 ) : 0;\n\t\t\tdistance = Math.abs(current) + destination;\n\t\t\tduration = distance / speed;\n\t\t}\n\n\t\treturn {\n\t\t\tdestination: Math.round(destination),\n\t\t\tduration: duration\n\t\t};\n\t};\n\n\tvar _transform = _prefixStyle('transform');\n\n\tme.extend(me, {\n\t\thasTransform: _transform !== false,\n\t\thasPerspective: _prefixStyle('perspective') in _elementStyle,\n\t\thasTouch: 'ontouchstart' in window,\n\t\thasPointer: !!(window.PointerEvent || window.MSPointerEvent), // IE10 is prefixed\n\t\thasTransition: _prefixStyle('transition') in _elementStyle\n\t});\n\n\t/*\n\tThis should find all Android browsers lower than build 535.19 (both stock browser and webview)\n\t- galaxy S2 is ok\n    - 2.3.6 : `AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1`\n    - 4.0.4 : `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n   - galaxy S3 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n   - galaxy S4 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n   - galaxy S5 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n   - galaxy S6 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n  */\n\tme.isBadAndroid = (function() {\n\t\tvar appVersion = window.navigator.appVersion;\n\t\t// Android browser is not a chrome browser.\n\t\tif (/Android/.test(appVersion) && !(/Chrome\\/\\d/.test(appVersion))) {\n\t\t\tvar safariVersion = appVersion.match(/Safari\\/(\\d+.\\d)/);\n\t\t\tif(safariVersion && typeof safariVersion === \"object\" && safariVersion.length >= 2) {\n\t\t\t\treturn parseFloat(safariVersion[1]) < 535.19;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t})();\n\n\tme.extend(me.style = {}, {\n\t\ttransform: _transform,\n\t\ttransitionTimingFunction: _prefixStyle('transitionTimingFunction'),\n\t\ttransitionDuration: _prefixStyle('transitionDuration'),\n\t\ttransitionDelay: _prefixStyle('transitionDelay'),\n\t\ttransformOrigin: _prefixStyle('transformOrigin')\n\t});\n\n\tme.hasClass = function (e, c) {\n\t\tvar re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\");\n\t\treturn re.test(e.className);\n\t};\n\n\tme.addClass = function (e, c) {\n\t\tif ( me.hasClass(e, c) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar newclass = e.className.split(' ');\n\t\tnewclass.push(c);\n\t\te.className = newclass.join(' ');\n\t};\n\n\tme.removeClass = function (e, c) {\n\t\tif ( !me.hasClass(e, c) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", 'g');\n\t\te.className = e.className.replace(re, ' ');\n\t};\n\n\tme.offset = function (el) {\n\t\tvar left = -el.offsetLeft,\n\t\t\ttop = -el.offsetTop;\n\n\t\t// jshint -W084\n\t\twhile (el = el.offsetParent) {\n\t\t\tleft -= el.offsetLeft;\n\t\t\ttop -= el.offsetTop;\n\t\t}\n\t\t// jshint +W084\n\n\t\treturn {\n\t\t\tleft: left,\n\t\t\ttop: top\n\t\t};\n\t};\n\n\tme.preventDefaultException = function (el, exceptions) {\n\t\tfor ( var i in exceptions ) {\n\t\t\tif ( exceptions[i].test(el[i]) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tme.extend(me.eventType = {}, {\n\t\ttouchstart: 1,\n\t\ttouchmove: 1,\n\t\ttouchend: 1,\n\n\t\tmousedown: 2,\n\t\tmousemove: 2,\n\t\tmouseup: 2,\n\n\t\tpointerdown: 3,\n\t\tpointermove: 3,\n\t\tpointerup: 3,\n\n\t\tMSPointerDown: 3,\n\t\tMSPointerMove: 3,\n\t\tMSPointerUp: 3\n\t});\n\n\tme.extend(me.ease = {}, {\n\t\tquadratic: {\n\t\t\tstyle: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n\t\t\tfn: function (k) {\n\t\t\t\treturn k * ( 2 - k );\n\t\t\t}\n\t\t},\n\t\tcircular: {\n\t\t\tstyle: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\t// Not properly \"circular\" but this looks better, it should be (0.075, 0.82, 0.165, 1)\n\t\t\tfn: function (k) {\n\t\t\t\treturn Math.sqrt( 1 - ( --k * k ) );\n\t\t\t}\n\t\t},\n\t\tback: {\n\t\t\tstyle: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n\t\t\tfn: function (k) {\n\t\t\t\tvar b = 4;\n\t\t\t\treturn ( k = k - 1 ) * k * ( ( b + 1 ) * k + b ) + 1;\n\t\t\t}\n\t\t},\n\t\tbounce: {\n\t\t\tstyle: '',\n\t\t\tfn: function (k) {\n\t\t\t\tif ( ( k /= 1 ) < ( 1 / 2.75 ) ) {\n\t\t\t\t\treturn 7.5625 * k * k;\n\t\t\t\t} else if ( k < ( 2 / 2.75 ) ) {\n\t\t\t\t\treturn 7.5625 * ( k -= ( 1.5 / 2.75 ) ) * k + 0.75;\n\t\t\t\t} else if ( k < ( 2.5 / 2.75 ) ) {\n\t\t\t\t\treturn 7.5625 * ( k -= ( 2.25 / 2.75 ) ) * k + 0.9375;\n\t\t\t\t} else {\n\t\t\t\t\treturn 7.5625 * ( k -= ( 2.625 / 2.75 ) ) * k + 0.984375;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\telastic: {\n\t\t\tstyle: '',\n\t\t\tfn: function (k) {\n\t\t\t\tvar f = 0.22,\n\t\t\t\t\te = 0.4;\n\n\t\t\t\tif ( k === 0 ) { return 0; }\n\t\t\t\tif ( k == 1 ) { return 1; }\n\n\t\t\t\treturn ( e * Math.pow( 2, - 10 * k ) * Math.sin( ( k - f / 4 ) * ( 2 * Math.PI ) / f ) + 1 );\n\t\t\t}\n\t\t}\n\t});\n\n\tme.tap = function (e, eventName) {\n\t\tvar ev = document.createEvent('Event');\n\t\tev.initEvent(eventName, true, true);\n\t\tev.pageX = e.pageX;\n\t\tev.pageY = e.pageY;\n\t\te.target.dispatchEvent(ev);\n\t};\n\n\tme.click = function (e) {\n\t\tvar target = e.target,\n\t\t\tev;\n\n\t\tif ( !(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName) ) {\n\t\t\tev = document.createEvent('MouseEvents');\n\t\t\tev.initMouseEvent('click', true, true, e.view, 1,\n\t\t\t\ttarget.screenX, target.screenY, target.clientX, target.clientY,\n\t\t\t\te.ctrlKey, e.altKey, e.shiftKey, e.metaKey,\n\t\t\t\t0, null);\n\n\t\t\tev._constructed = true;\n\t\t\ttarget.dispatchEvent(ev);\n\t\t}\n\t};\n\n\treturn me;\n})();\nfunction IScroll (el, options) {\n\tthis.wrapper = typeof el == 'string' ? document.querySelector(el) : el;\n\tthis.scroller = this.wrapper.children[0];\n\tthis.scrollerStyle = this.scroller.style;\t\t// cache style for better performance\n\n\tthis.options = {\n\n\t\tresizeScrollbars: true,\n\n\t\tmouseWheelSpeed: 20,\n\n\t\tsnapThreshold: 0.334,\n\n// INSERT POINT: OPTIONS\n\t\tdisablePointer : !utils.hasPointer,\n\t\tdisableTouch : utils.hasPointer || !utils.hasTouch,\n\t\tdisableMouse : utils.hasPointer || utils.hasTouch,\n\t\tstartX: 0,\n\t\tstartY: 0,\n\t\tscrollY: true,\n\t\tdirectionLockThreshold: 5,\n\t\tmomentum: true,\n\n\t\tbounce: true,\n\t\tbounceTime: 600,\n\t\tbounceEasing: '',\n\n\t\tpreventDefault: true,\n\t\tpreventDefaultException: { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/ },\n\n\t\tHWCompositing: true,\n\t\tuseTransition: true,\n\t\tuseTransform: true,\n\t\tbindToWrapper: typeof window.onmousedown === \"undefined\"\n\t};\n\n\tfor ( var i in options ) {\n\t\tthis.options[i] = options[i];\n\t}\n\n\t// Normalize options\n\tthis.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';\n\n\tthis.options.useTransition = utils.hasTransition && this.options.useTransition;\n\tthis.options.useTransform = utils.hasTransform && this.options.useTransform;\n\n\tthis.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;\n\tthis.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;\n\n\t// If you want eventPassthrough I have to lock one of the axes\n\tthis.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;\n\tthis.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX;\n\n\t// With eventPassthrough we also need lockDirection mechanism\n\tthis.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n\tthis.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n\n\tthis.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;\n\n\tthis.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;\n\n\tif ( this.options.tap === true ) {\n\t\tthis.options.tap = 'tap';\n\t}\n\n\tif ( this.options.shrinkScrollbars == 'scale' ) {\n\t\tthis.options.useTransition = false;\n\t}\n\n\tthis.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1;\n\n\tif ( this.options.probeType == 3 ) {\n\t\tthis.options.useTransition = false;\t}\n\n// INSERT POINT: NORMALIZATION\n\n\t// Some defaults\n\tthis.x = 0;\n\tthis.y = 0;\n\tthis.directionX = 0;\n\tthis.directionY = 0;\n\tthis._events = {};\n\n// INSERT POINT: DEFAULTS\n\n\tthis._init();\n\tthis.refresh();\n\n\tthis.scrollTo(this.options.startX, this.options.startY);\n\tthis.enable();\n}\n\nIScroll.prototype = {\n\tversion: '5.2.0',\n\n\t_init: function () {\n\t\tthis._initEvents();\n\n\t\tif ( this.options.scrollbars || this.options.indicators ) {\n\t\t\tthis._initIndicators();\n\t\t}\n\n\t\tif ( this.options.mouseWheel ) {\n\t\t\tthis._initWheel();\n\t\t}\n\n\t\tif ( this.options.snap ) {\n\t\t\tthis._initSnap();\n\t\t}\n\n\t\tif ( this.options.keyBindings ) {\n\t\t\tthis._initKeys();\n\t\t}\n\n// INSERT POINT: _init\n\n\t},\n\n\tdestroy: function () {\n\t\tthis._initEvents(true);\n\t\tclearTimeout(this.resizeTimeout);\n \t\tthis.resizeTimeout = null;\n\t\tthis._execEvent('destroy');\n\t},\n\n\t_transitionEnd: function (e) {\n\t\tif ( e.target != this.scroller || !this.isInTransition ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._transitionTime();\n\t\tif ( !this.resetPosition(this.options.bounceTime) ) {\n\t\t\tthis.isInTransition = false;\n\t\t\tthis._execEvent('scrollEnd');\n\t\t}\n\t},\n\n\t_start: function (e) {\n\t\t// React to left mouse button only\n\t\tif ( utils.eventType[e.type] != 1 ) {\n\t\t  // for button property\n\t\t  // http://unixpapa.com/js/mouse.html\n\t\t  var button;\n\t    if (!e.which) {\n\t      /* IE case */\n\t      button = (e.button < 2) ? 0 :\n\t               ((e.button == 4) ? 1 : 2);\n\t    } else {\n\t      /* All others */\n\t      button = e.button;\n\t    }\n\t\t\tif ( button !== 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif ( !this.enabled || (this.initiated && utils.eventType[e.type] !== this.initiated) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar point = e.touches ? e.touches[0] : e,\n\t\t\tpos;\n\n\t\tthis.initiated\t= utils.eventType[e.type];\n\t\tthis.moved\t\t= false;\n\t\tthis.distX\t\t= 0;\n\t\tthis.distY\t\t= 0;\n\t\tthis.directionX = 0;\n\t\tthis.directionY = 0;\n\t\tthis.directionLocked = 0;\n\n\t\tthis.startTime = utils.getTime();\n\n\t\tif ( this.options.useTransition && this.isInTransition ) {\n\t\t\tthis._transitionTime();\n\t\t\tthis.isInTransition = false;\n\t\t\tpos = this.getComputedPosition();\n\t\t\tthis._translate(Math.round(pos.x), Math.round(pos.y));\n\t\t\tthis._execEvent('scrollEnd');\n\t\t} else if ( !this.options.useTransition && this.isAnimating ) {\n\t\t\tthis.isAnimating = false;\n\t\t\tthis._execEvent('scrollEnd');\n\t\t}\n\n\t\tthis.startX    = this.x;\n\t\tthis.startY    = this.y;\n\t\tthis.absStartX = this.x;\n\t\tthis.absStartY = this.y;\n\t\tthis.pointX    = point.pageX;\n\t\tthis.pointY    = point.pageY;\n\n\t\tthis._execEvent('beforeScrollStart');\n\t},\n\n\t_move: function (e) {\n\t\tif ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.options.preventDefault ) {\t// increases performance on Android? TODO: check!\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar point\t\t= e.touches ? e.touches[0] : e,\n\t\t\tdeltaX\t\t= point.pageX - this.pointX,\n\t\t\tdeltaY\t\t= point.pageY - this.pointY,\n\t\t\ttimestamp\t= utils.getTime(),\n\t\t\tnewX, newY,\n\t\t\tabsDistX, absDistY;\n\n\t\tthis.pointX\t\t= point.pageX;\n\t\tthis.pointY\t\t= point.pageY;\n\n\t\tthis.distX\t\t+= deltaX;\n\t\tthis.distY\t\t+= deltaY;\n\t\tabsDistX\t\t= Math.abs(this.distX);\n\t\tabsDistY\t\t= Math.abs(this.distY);\n\n\t\t// We need to move at least 10 pixels for the scrolling to initiate\n\t\tif ( timestamp - this.endTime > 300 && (absDistX < 10 && absDistY < 10) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If you are scrolling in one direction lock the other\n\t\tif ( !this.directionLocked && !this.options.freeScroll ) {\n\t\t\tif ( absDistX > absDistY + this.options.directionLockThreshold ) {\n\t\t\t\tthis.directionLocked = 'h';\t\t// lock horizontally\n\t\t\t} else if ( absDistY >= absDistX + this.options.directionLockThreshold ) {\n\t\t\t\tthis.directionLocked = 'v';\t\t// lock vertically\n\t\t\t} else {\n\t\t\t\tthis.directionLocked = 'n';\t\t// no lock\n\t\t\t}\n\t\t}\n\n\t\tif ( this.directionLocked == 'h' ) {\n\t\t\tif ( this.options.eventPassthrough == 'vertical' ) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if ( this.options.eventPassthrough == 'horizontal' ) {\n\t\t\t\tthis.initiated = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdeltaY = 0;\n\t\t} else if ( this.directionLocked == 'v' ) {\n\t\t\tif ( this.options.eventPassthrough == 'horizontal' ) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if ( this.options.eventPassthrough == 'vertical' ) {\n\t\t\t\tthis.initiated = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdeltaX = 0;\n\t\t}\n\n\t\tdeltaX = this.hasHorizontalScroll ? deltaX : 0;\n\t\tdeltaY = this.hasVerticalScroll ? deltaY : 0;\n\n\t\tnewX = this.x + deltaX;\n\t\tnewY = this.y + deltaY;\n\n\t\t// Slow down if outside of the boundaries\n\t\tif ( newX > 0 || newX < this.maxScrollX ) {\n\t\t\tnewX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n\t\t}\n\t\tif ( newY > 0 || newY < this.maxScrollY ) {\n\t\t\tnewY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n\t\t}\n\n\t\tthis.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n\t\tthis.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n\t\tif ( !this.moved ) {\n\t\t\tthis._execEvent('scrollStart');\n\t\t}\n\n\t\tthis.moved = true;\n\n\t\tthis._translate(newX, newY);\n\n/* REPLACE START: _move */\n\t\tif ( timestamp - this.startTime > 300 ) {\n\t\t\tthis.startTime = timestamp;\n\t\t\tthis.startX = this.x;\n\t\t\tthis.startY = this.y;\n\n\t\t\tif ( this.options.probeType == 1 ) {\n\t\t\t\tthis._execEvent('scroll');\n\t\t\t}\n\t\t}\n\n\t\tif ( this.options.probeType > 1 ) {\n\t\t\tthis._execEvent('scroll');\n\t\t}\n/* REPLACE END: _move */\n\n\t},\n\n\t_end: function (e) {\n\t\tif ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar point = e.changedTouches ? e.changedTouches[0] : e,\n\t\t\tmomentumX,\n\t\t\tmomentumY,\n\t\t\tduration = utils.getTime() - this.startTime,\n\t\t\tnewX = Math.round(this.x),\n\t\t\tnewY = Math.round(this.y),\n\t\t\tdistanceX = Math.abs(newX - this.startX),\n\t\t\tdistanceY = Math.abs(newY - this.startY),\n\t\t\ttime = 0,\n\t\t\teasing = '';\n\n\t\tthis.isInTransition = 0;\n\t\tthis.initiated = 0;\n\t\tthis.endTime = utils.getTime();\n\n\t\t// reset if we are outside of the boundaries\n\t\tif ( this.resetPosition(this.options.bounceTime) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.scrollTo(newX, newY);\t// ensures that the last position is rounded\n\n\t\t// we scrolled less than 10 pixels\n\t\tif ( !this.moved ) {\n\t\t\tif ( this.options.tap ) {\n\t\t\t\tutils.tap(e, this.options.tap);\n\t\t\t}\n\n\t\t\tif ( this.options.click ) {\n\t\t\t\tutils.click(e);\n\t\t\t}\n\n\t\t\tthis._execEvent('scrollCancel');\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100 ) {\n\t\t\tthis._execEvent('flick');\n\t\t\treturn;\n\t\t}\n\n\t\t// start momentum animation if needed\n\t\tif ( this.options.momentum && duration < 300 ) {\n\t\t\tmomentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : { destination: newX, duration: 0 };\n\t\t\tmomentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : { destination: newY, duration: 0 };\n\t\t\tnewX = momentumX.destination;\n\t\t\tnewY = momentumY.destination;\n\t\t\ttime = Math.max(momentumX.duration, momentumY.duration);\n\t\t\tthis.isInTransition = 1;\n\t\t}\n\n\n\t\tif ( this.options.snap ) {\n\t\t\tvar snap = this._nearestSnap(newX, newY);\n\t\t\tthis.currentPage = snap;\n\t\t\ttime = this.options.snapSpeed || Math.max(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\tMath.min(Math.abs(newX - snap.x), 1000),\n\t\t\t\t\t\tMath.min(Math.abs(newY - snap.y), 1000)\n\t\t\t\t\t), 300);\n\t\t\tnewX = snap.x;\n\t\t\tnewY = snap.y;\n\n\t\t\tthis.directionX = 0;\n\t\t\tthis.directionY = 0;\n\t\t\teasing = this.options.bounceEasing;\n\t\t}\n\n// INSERT POINT: _end\n\n\t\tif ( newX != this.x || newY != this.y ) {\n\t\t\t// change easing function when scroller goes out of the boundaries\n\t\t\tif ( newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY ) {\n\t\t\t\teasing = utils.ease.quadratic;\n\t\t\t}\n\n\t\t\tthis.scrollTo(newX, newY, time, easing);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._execEvent('scrollEnd');\n\t},\n\n\t_resize: function () {\n\t\tvar that = this;\n\n\t\tclearTimeout(this.resizeTimeout);\n\n\t\tthis.resizeTimeout = setTimeout(function () {\n\t\t\tthat.refresh();\n\t\t}, this.options.resizePolling);\n\t},\n\n\tresetPosition: function (time) {\n\t\tvar x = this.x,\n\t\t\ty = this.y;\n\n\t\ttime = time || 0;\n\n\t\tif ( !this.hasHorizontalScroll || this.x > 0 ) {\n\t\t\tx = 0;\n\t\t} else if ( this.x < this.maxScrollX ) {\n\t\t\tx = this.maxScrollX;\n\t\t}\n\n\t\tif ( !this.hasVerticalScroll || this.y > 0 ) {\n\t\t\ty = 0;\n\t\t} else if ( this.y < this.maxScrollY ) {\n\t\t\ty = this.maxScrollY;\n\t\t}\n\n\t\tif ( x == this.x && y == this.y ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.scrollTo(x, y, time, this.options.bounceEasing);\n\n\t\treturn true;\n\t},\n\n\tdisable: function () {\n\t\tthis.enabled = false;\n\t},\n\n\tenable: function () {\n\t\tthis.enabled = true;\n\t},\n\n\trefresh: function () {\n\t\tvar rf = this.wrapper.offsetHeight;\t\t// Force reflow\n\n\t\tthis.wrapperWidth\t= this.wrapper.clientWidth;\n\t\tthis.wrapperHeight\t= this.wrapper.clientHeight;\n\n/* REPLACE START: refresh */\n\n\t\tthis.scrollerWidth\t= this.scroller.offsetWidth;\n\t\tthis.scrollerHeight\t= this.scroller.offsetHeight;\n\n\t\tthis.maxScrollX\t\t= this.wrapperWidth - this.scrollerWidth;\n\t\tthis.maxScrollY\t\t= this.wrapperHeight - this.scrollerHeight;\n\n/* REPLACE END: refresh */\n\n\t\tthis.hasHorizontalScroll\t= this.options.scrollX && this.maxScrollX < 0;\n\t\tthis.hasVerticalScroll\t\t= this.options.scrollY && this.maxScrollY < 0;\n\n\t\tif ( !this.hasHorizontalScroll ) {\n\t\t\tthis.maxScrollX = 0;\n\t\t\tthis.scrollerWidth = this.wrapperWidth;\n\t\t}\n\n\t\tif ( !this.hasVerticalScroll ) {\n\t\t\tthis.maxScrollY = 0;\n\t\t\tthis.scrollerHeight = this.wrapperHeight;\n\t\t}\n\n\t\tthis.endTime = 0;\n\t\tthis.directionX = 0;\n\t\tthis.directionY = 0;\n\n\t\tthis.wrapperOffset = utils.offset(this.wrapper);\n\n\t\tthis._execEvent('refresh');\n\n\t\tthis.resetPosition();\n\n// INSERT POINT: _refresh\n\n\t},\n\n\ton: function (type, fn) {\n\t\tif ( !this._events[type] ) {\n\t\t\tthis._events[type] = [];\n\t\t}\n\n\t\tthis._events[type].push(fn);\n\t},\n\n\toff: function (type, fn) {\n\t\tif ( !this._events[type] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar index = this._events[type].indexOf(fn);\n\n\t\tif ( index > -1 ) {\n\t\t\tthis._events[type].splice(index, 1);\n\t\t}\n\t},\n\n\t_execEvent: function (type) {\n\t\tif ( !this._events[type] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i = 0,\n\t\t\tl = this._events[type].length;\n\n\t\tif ( !l ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tthis._events[type][i].apply(this, [].slice.call(arguments, 1));\n\t\t}\n\t},\n\n\tscrollBy: function (x, y, time, easing) {\n\t\tx = this.x + x;\n\t\ty = this.y + y;\n\t\ttime = time || 0;\n\n\t\tthis.scrollTo(x, y, time, easing);\n\t},\n\n\tscrollTo: function (x, y, time, easing) {\n\t\teasing = easing || utils.ease.circular;\n\n\t\tthis.isInTransition = this.options.useTransition && time > 0;\n\t\tvar transitionType = this.options.useTransition && easing.style;\n\t\tif ( !time || transitionType ) {\n\t\t\t\tif(transitionType) {\n\t\t\t\t\tthis._transitionTimingFunction(easing.style);\n\t\t\t\t\tthis._transitionTime(time);\n\t\t\t\t}\n\t\t\tthis._translate(x, y);\n\t\t} else {\n\t\t\tthis._animate(x, y, time, easing.fn);\n\t\t}\n\t},\n\n\tscrollToElement: function (el, time, offsetX, offsetY, easing) {\n\t\tel = el.nodeType ? el : this.scroller.querySelector(el);\n\n\t\tif ( !el ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar pos = utils.offset(el);\n\n\t\tpos.left -= this.wrapperOffset.left;\n\t\tpos.top  -= this.wrapperOffset.top;\n\n\t\t// if offsetX/Y are true we center the element to the screen\n\t\tif ( offsetX === true ) {\n\t\t\toffsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);\n\t\t}\n\t\tif ( offsetY === true ) {\n\t\t\toffsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);\n\t\t}\n\n\t\tpos.left -= offsetX || 0;\n\t\tpos.top  -= offsetY || 0;\n\n\t\tpos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n\t\tpos.top  = pos.top  > 0 ? 0 : pos.top  < this.maxScrollY ? this.maxScrollY : pos.top;\n\n\t\ttime = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x-pos.left), Math.abs(this.y-pos.top)) : time;\n\n\t\tthis.scrollTo(pos.left, pos.top, time, easing);\n\t},\n\n\t_transitionTime: function (time) {\n\t\ttime = time || 0;\n\n\t\tvar durationProp = utils.style.transitionDuration;\n\t\tthis.scrollerStyle[durationProp] = time + 'ms';\n\n\t\tif ( !time && utils.isBadAndroid ) {\n\t\t\tthis.scrollerStyle[durationProp] = '0.0001ms';\n\t\t\t// remove 0.0001ms\n\t\t\tvar self = this;\n\t\t\trAF(function() {\n\t\t\t\tif(self.scrollerStyle[durationProp] === '0.0001ms') {\n\t\t\t\t\tself.scrollerStyle[durationProp] = '0s';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\n\t\tif ( this.indicators ) {\n\t\t\tfor ( var i = this.indicators.length; i--; ) {\n\t\t\t\tthis.indicators[i].transitionTime(time);\n\t\t\t}\n\t\t}\n\n\n// INSERT POINT: _transitionTime\n\n\t},\n\n\t_transitionTimingFunction: function (easing) {\n\t\tthis.scrollerStyle[utils.style.transitionTimingFunction] = easing;\n\n\n\t\tif ( this.indicators ) {\n\t\t\tfor ( var i = this.indicators.length; i--; ) {\n\t\t\t\tthis.indicators[i].transitionTimingFunction(easing);\n\t\t\t}\n\t\t}\n\n\n// INSERT POINT: _transitionTimingFunction\n\n\t},\n\n\t_translate: function (x, y) {\n\t\tif ( this.options.useTransform ) {\n\n/* REPLACE START: _translate */\n\n\t\t\tthis.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.translateZ;\n\n/* REPLACE END: _translate */\n\n\t\t} else {\n\t\t\tx = Math.round(x);\n\t\t\ty = Math.round(y);\n\t\t\tthis.scrollerStyle.left = x + 'px';\n\t\t\tthis.scrollerStyle.top = y + 'px';\n\t\t}\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\n\tif ( this.indicators ) {\n\t\tfor ( var i = this.indicators.length; i--; ) {\n\t\t\tthis.indicators[i].updatePosition();\n\t\t}\n\t}\n\n\n// INSERT POINT: _translate\n\n\t},\n\n\t_initEvents: function (remove) {\n\t\tvar eventType = remove ? utils.removeEvent : utils.addEvent,\n\t\t\ttarget = this.options.bindToWrapper ? this.wrapper : window;\n\n\t\teventType(window, 'orientationchange', this);\n\t\teventType(window, 'resize', this);\n\n\t\tif ( this.options.click ) {\n\t\t\teventType(this.wrapper, 'click', this, true);\n\t\t}\n\n\t\tif ( !this.options.disableMouse ) {\n\t\t\teventType(this.wrapper, 'mousedown', this);\n\t\t\teventType(target, 'mousemove', this);\n\t\t\teventType(target, 'mousecancel', this);\n\t\t\teventType(target, 'mouseup', this);\n\t\t}\n\n\t\tif ( utils.hasPointer && !this.options.disablePointer ) {\n\t\t\teventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);\n\t\t\teventType(target, utils.prefixPointerEvent('pointermove'), this);\n\t\t\teventType(target, utils.prefixPointerEvent('pointercancel'), this);\n\t\t\teventType(target, utils.prefixPointerEvent('pointerup'), this);\n\t\t}\n\n\t\tif ( utils.hasTouch && !this.options.disableTouch ) {\n\t\t\teventType(this.wrapper, 'touchstart', this);\n\t\t\teventType(target, 'touchmove', this);\n\t\t\teventType(target, 'touchcancel', this);\n\t\t\teventType(target, 'touchend', this);\n\t\t}\n\n\t\teventType(this.scroller, 'transitionend', this);\n\t\teventType(this.scroller, 'webkitTransitionEnd', this);\n\t\teventType(this.scroller, 'oTransitionEnd', this);\n\t\teventType(this.scroller, 'MSTransitionEnd', this);\n\t},\n\n\tgetComputedPosition: function () {\n\t\tvar matrix = window.getComputedStyle(this.scroller, null),\n\t\t\tx, y;\n\n\t\tif ( this.options.useTransform ) {\n\t\t\tmatrix = matrix[utils.style.transform].split(')')[0].split(', ');\n\t\t\tx = +(matrix[12] || matrix[4]);\n\t\t\ty = +(matrix[13] || matrix[5]);\n\t\t} else {\n\t\t\tx = +matrix.left.replace(/[^-\\d.]/g, '');\n\t\t\ty = +matrix.top.replace(/[^-\\d.]/g, '');\n\t\t}\n\n\t\treturn { x: x, y: y };\n\t},\n\t_initIndicators: function () {\n\t\tvar interactive = this.options.interactiveScrollbars,\n\t\t\tcustomStyle = typeof this.options.scrollbars != 'string',\n\t\t\tindicators = [],\n\t\t\tindicator;\n\n\t\tvar that = this;\n\n\t\tthis.indicators = [];\n\n\t\tif ( this.options.scrollbars ) {\n\t\t\t// Vertical scrollbar\n\t\t\tif ( this.options.scrollY ) {\n\t\t\t\tindicator = {\n\t\t\t\t\tel: createDefaultScrollbar('v', interactive, this.options.scrollbars),\n\t\t\t\t\tinteractive: interactive,\n\t\t\t\t\tdefaultScrollbars: true,\n\t\t\t\t\tcustomStyle: customStyle,\n\t\t\t\t\tresize: this.options.resizeScrollbars,\n\t\t\t\t\tshrink: this.options.shrinkScrollbars,\n\t\t\t\t\tfade: this.options.fadeScrollbars,\n\t\t\t\t\tlistenX: false\n\t\t\t\t};\n\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\n\t\t\t\tindicators.push(indicator);\n\t\t\t}\n\n\t\t\t// Horizontal scrollbar\n\t\t\tif ( this.options.scrollX ) {\n\t\t\t\tindicator = {\n\t\t\t\t\tel: createDefaultScrollbar('h', interactive, this.options.scrollbars),\n\t\t\t\t\tinteractive: interactive,\n\t\t\t\t\tdefaultScrollbars: true,\n\t\t\t\t\tcustomStyle: customStyle,\n\t\t\t\t\tresize: this.options.resizeScrollbars,\n\t\t\t\t\tshrink: this.options.shrinkScrollbars,\n\t\t\t\t\tfade: this.options.fadeScrollbars,\n\t\t\t\t\tlistenY: false\n\t\t\t\t};\n\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\n\t\t\t\tindicators.push(indicator);\n\t\t\t}\n\t\t}\n\n\t\tif ( this.options.indicators ) {\n\t\t\t// TODO: check concat compatibility\n\t\t\tindicators = indicators.concat(this.options.indicators);\n\t\t}\n\n\t\tfor ( var i = indicators.length; i--; ) {\n\t\t\tthis.indicators.push( new Indicator(this, indicators[i]) );\n\t\t}\n\n\t\t// TODO: check if we can use array.map (wide compatibility and performance issues)\n\t\tfunction _indicatorsMap (fn) {\n\t\t\tif (that.indicators) {\n\t\t\t\tfor ( var i = that.indicators.length; i--; ) {\n\t\t\t\t\tfn.call(that.indicators[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( this.options.fadeScrollbars ) {\n\t\t\tthis.on('scrollEnd', function () {\n\t\t\t\t_indicatorsMap(function () {\n\t\t\t\t\tthis.fade();\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.on('scrollCancel', function () {\n\t\t\t\t_indicatorsMap(function () {\n\t\t\t\t\tthis.fade();\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.on('scrollStart', function () {\n\t\t\t\t_indicatorsMap(function () {\n\t\t\t\t\tthis.fade(1);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.on('beforeScrollStart', function () {\n\t\t\t\t_indicatorsMap(function () {\n\t\t\t\t\tthis.fade(1, true);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\n\t\tthis.on('refresh', function () {\n\t\t\t_indicatorsMap(function () {\n\t\t\t\tthis.refresh();\n\t\t\t});\n\t\t});\n\n\t\tthis.on('destroy', function () {\n\t\t\t_indicatorsMap(function () {\n\t\t\t\tthis.destroy();\n\t\t\t});\n\n\t\t\tdelete this.indicators;\n\t\t});\n\t},\n\n\t_initWheel: function () {\n\t\tutils.addEvent(this.wrapper, 'wheel', this);\n\t\tutils.addEvent(this.wrapper, 'mousewheel', this);\n\t\tutils.addEvent(this.wrapper, 'DOMMouseScroll', this);\n\n\t\tthis.on('destroy', function () {\n\t\t\tclearTimeout(this.wheelTimeout);\n\t\t\tthis.wheelTimeout = null;\n\t\t\tutils.removeEvent(this.wrapper, 'wheel', this);\n\t\t\tutils.removeEvent(this.wrapper, 'mousewheel', this);\n\t\t\tutils.removeEvent(this.wrapper, 'DOMMouseScroll', this);\n\t\t});\n\t},\n\n\t_wheel: function (e) {\n\t\tif ( !this.enabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\te.preventDefault();\n\n\t\tvar wheelDeltaX, wheelDeltaY,\n\t\t\tnewX, newY,\n\t\t\tthat = this;\n\n\t\tif ( this.wheelTimeout === undefined ) {\n\t\t\tthat._execEvent('scrollStart');\n\t\t}\n\n\t\t// Execute the scrollEnd event after 400ms the wheel stopped scrolling\n\t\tclearTimeout(this.wheelTimeout);\n\t\tthis.wheelTimeout = setTimeout(function () {\n\t\t\tif(!that.options.snap) {\n\t\t\t\tthat._execEvent('scrollEnd');\n\t\t\t}\n\t\t\tthat.wheelTimeout = undefined;\n\t\t}, 400);\n\n\t\tif ( 'deltaX' in e ) {\n\t\t\tif (e.deltaMode === 1) {\n\t\t\t\twheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;\n\t\t\t\twheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;\n\t\t\t} else {\n\t\t\t\twheelDeltaX = -e.deltaX;\n\t\t\t\twheelDeltaY = -e.deltaY;\n\t\t\t}\n\t\t} else if ( 'wheelDeltaX' in e ) {\n\t\t\twheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;\n\t\t\twheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;\n\t\t} else if ( 'wheelDelta' in e ) {\n\t\t\twheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;\n\t\t} else if ( 'detail' in e ) {\n\t\t\twheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\twheelDeltaX *= this.options.invertWheelDirection;\n\t\twheelDeltaY *= this.options.invertWheelDirection;\n\n\t\tif ( !this.hasVerticalScroll ) {\n\t\t\twheelDeltaX = wheelDeltaY;\n\t\t\twheelDeltaY = 0;\n\t\t}\n\n\t\tif ( this.options.snap ) {\n\t\t\tnewX = this.currentPage.pageX;\n\t\t\tnewY = this.currentPage.pageY;\n\n\t\t\tif ( wheelDeltaX > 0 ) {\n\t\t\t\tnewX--;\n\t\t\t} else if ( wheelDeltaX < 0 ) {\n\t\t\t\tnewX++;\n\t\t\t}\n\n\t\t\tif ( wheelDeltaY > 0 ) {\n\t\t\t\tnewY--;\n\t\t\t} else if ( wheelDeltaY < 0 ) {\n\t\t\t\tnewY++;\n\t\t\t}\n\n\t\t\tthis.goToPage(newX, newY);\n\n\t\t\treturn;\n\t\t}\n\n\t\tnewX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n\t\tnewY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n\n\t\tthis.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n\t\tthis.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n\t\tif ( newX > 0 ) {\n\t\t\tnewX = 0;\n\t\t} else if ( newX < this.maxScrollX ) {\n\t\t\tnewX = this.maxScrollX;\n\t\t}\n\n\t\tif ( newY > 0 ) {\n\t\t\tnewY = 0;\n\t\t} else if ( newY < this.maxScrollY ) {\n\t\t\tnewY = this.maxScrollY;\n\t\t}\n\n\t\tthis.scrollTo(newX, newY, 0);\n\n\t\tif ( this.options.probeType > 1 ) {\n\t\t\tthis._execEvent('scroll');\n\t\t}\n\n// INSERT POINT: _wheel\n\t},\n\n\t_initSnap: function () {\n\t\tthis.currentPage = {};\n\n\t\tif ( typeof this.options.snap == 'string' ) {\n\t\t\tthis.options.snap = this.scroller.querySelectorAll(this.options.snap);\n\t\t}\n\n\t\tthis.on('refresh', function () {\n\t\t\tvar i = 0, l,\n\t\t\t\tm = 0, n,\n\t\t\t\tcx, cy,\n\t\t\t\tx = 0, y,\n\t\t\t\tstepX = this.options.snapStepX || this.wrapperWidth,\n\t\t\t\tstepY = this.options.snapStepY || this.wrapperHeight,\n\t\t\t\tel;\n\n\t\t\tthis.pages = [];\n\n\t\t\tif ( !this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( this.options.snap === true ) {\n\t\t\t\tcx = Math.round( stepX / 2 );\n\t\t\t\tcy = Math.round( stepY / 2 );\n\n\t\t\t\twhile ( x > -this.scrollerWidth ) {\n\t\t\t\t\tthis.pages[i] = [];\n\t\t\t\t\tl = 0;\n\t\t\t\t\ty = 0;\n\n\t\t\t\t\twhile ( y > -this.scrollerHeight ) {\n\t\t\t\t\t\tthis.pages[i][l] = {\n\t\t\t\t\t\t\tx: Math.max(x, this.maxScrollX),\n\t\t\t\t\t\t\ty: Math.max(y, this.maxScrollY),\n\t\t\t\t\t\t\twidth: stepX,\n\t\t\t\t\t\t\theight: stepY,\n\t\t\t\t\t\t\tcx: x - cx,\n\t\t\t\t\t\t\tcy: y - cy\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\ty -= stepY;\n\t\t\t\t\t\tl++;\n\t\t\t\t\t}\n\n\t\t\t\t\tx -= stepX;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tel = this.options.snap;\n\t\t\t\tl = el.length;\n\t\t\t\tn = -1;\n\n\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\tif ( i === 0 || el[i].offsetLeft <= el[i-1].offsetLeft ) {\n\t\t\t\t\t\tm = 0;\n\t\t\t\t\t\tn++;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !this.pages[m] ) {\n\t\t\t\t\t\tthis.pages[m] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tx = Math.max(-el[i].offsetLeft, this.maxScrollX);\n\t\t\t\t\ty = Math.max(-el[i].offsetTop, this.maxScrollY);\n\t\t\t\t\tcx = x - Math.round(el[i].offsetWidth / 2);\n\t\t\t\t\tcy = y - Math.round(el[i].offsetHeight / 2);\n\n\t\t\t\t\tthis.pages[m][n] = {\n\t\t\t\t\t\tx: x,\n\t\t\t\t\t\ty: y,\n\t\t\t\t\t\twidth: el[i].offsetWidth,\n\t\t\t\t\t\theight: el[i].offsetHeight,\n\t\t\t\t\t\tcx: cx,\n\t\t\t\t\t\tcy: cy\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( x > this.maxScrollX ) {\n\t\t\t\t\t\tm++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0);\n\n\t\t\t// Update snap threshold if needed\n\t\t\tif ( this.options.snapThreshold % 1 === 0 ) {\n\t\t\t\tthis.snapThresholdX = this.options.snapThreshold;\n\t\t\t\tthis.snapThresholdY = this.options.snapThreshold;\n\t\t\t} else {\n\t\t\t\tthis.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);\n\t\t\t\tthis.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);\n\t\t\t}\n\t\t});\n\n\t\tthis.on('flick', function () {\n\t\t\tvar time = this.options.snapSpeed || Math.max(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\tMath.min(Math.abs(this.x - this.startX), 1000),\n\t\t\t\t\t\tMath.min(Math.abs(this.y - this.startY), 1000)\n\t\t\t\t\t), 300);\n\n\t\t\tthis.goToPage(\n\t\t\t\tthis.currentPage.pageX + this.directionX,\n\t\t\t\tthis.currentPage.pageY + this.directionY,\n\t\t\t\ttime\n\t\t\t);\n\t\t});\n\t},\n\n\t_nearestSnap: function (x, y) {\n\t\tif ( !this.pages.length ) {\n\t\t\treturn { x: 0, y: 0, pageX: 0, pageY: 0 };\n\t\t}\n\n\t\tvar i = 0,\n\t\t\tl = this.pages.length,\n\t\t\tm = 0;\n\n\t\t// Check if we exceeded the snap threshold\n\t\tif ( Math.abs(x - this.absStartX) < this.snapThresholdX &&\n\t\t\tMath.abs(y - this.absStartY) < this.snapThresholdY ) {\n\t\t\treturn this.currentPage;\n\t\t}\n\n\t\tif ( x > 0 ) {\n\t\t\tx = 0;\n\t\t} else if ( x < this.maxScrollX ) {\n\t\t\tx = this.maxScrollX;\n\t\t}\n\n\t\tif ( y > 0 ) {\n\t\t\ty = 0;\n\t\t} else if ( y < this.maxScrollY ) {\n\t\t\ty = this.maxScrollY;\n\t\t}\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tif ( x >= this.pages[i][0].cx ) {\n\t\t\t\tx = this.pages[i][0].x;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tl = this.pages[i].length;\n\n\t\tfor ( ; m < l; m++ ) {\n\t\t\tif ( y >= this.pages[0][m].cy ) {\n\t\t\t\ty = this.pages[0][m].y;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif ( i == this.currentPage.pageX ) {\n\t\t\ti += this.directionX;\n\n\t\t\tif ( i < 0 ) {\n\t\t\t\ti = 0;\n\t\t\t} else if ( i >= this.pages.length ) {\n\t\t\t\ti = this.pages.length - 1;\n\t\t\t}\n\n\t\t\tx = this.pages[i][0].x;\n\t\t}\n\n\t\tif ( m == this.currentPage.pageY ) {\n\t\t\tm += this.directionY;\n\n\t\t\tif ( m < 0 ) {\n\t\t\t\tm = 0;\n\t\t\t} else if ( m >= this.pages[0].length ) {\n\t\t\t\tm = this.pages[0].length - 1;\n\t\t\t}\n\n\t\t\ty = this.pages[0][m].y;\n\t\t}\n\n\t\treturn {\n\t\t\tx: x,\n\t\t\ty: y,\n\t\t\tpageX: i,\n\t\t\tpageY: m\n\t\t};\n\t},\n\n\tgoToPage: function (x, y, time, easing) {\n\t\teasing = easing || this.options.bounceEasing;\n\n\t\tif ( x >= this.pages.length ) {\n\t\t\tx = this.pages.length - 1;\n\t\t} else if ( x < 0 ) {\n\t\t\tx = 0;\n\t\t}\n\n\t\tif ( y >= this.pages[x].length ) {\n\t\t\ty = this.pages[x].length - 1;\n\t\t} else if ( y < 0 ) {\n\t\t\ty = 0;\n\t\t}\n\n\t\tvar posX = this.pages[x][y].x,\n\t\t\tposY = this.pages[x][y].y;\n\n\t\ttime = time === undefined ? this.options.snapSpeed || Math.max(\n\t\t\tMath.max(\n\t\t\t\tMath.min(Math.abs(posX - this.x), 1000),\n\t\t\t\tMath.min(Math.abs(posY - this.y), 1000)\n\t\t\t), 300) : time;\n\n\t\tthis.currentPage = {\n\t\t\tx: posX,\n\t\t\ty: posY,\n\t\t\tpageX: x,\n\t\t\tpageY: y\n\t\t};\n\n\t\tthis.scrollTo(posX, posY, time, easing);\n\t},\n\n\tnext: function (time, easing) {\n\t\tvar x = this.currentPage.pageX,\n\t\t\ty = this.currentPage.pageY;\n\n\t\tx++;\n\n\t\tif ( x >= this.pages.length && this.hasVerticalScroll ) {\n\t\t\tx = 0;\n\t\t\ty++;\n\t\t}\n\n\t\tthis.goToPage(x, y, time, easing);\n\t},\n\n\tprev: function (time, easing) {\n\t\tvar x = this.currentPage.pageX,\n\t\t\ty = this.currentPage.pageY;\n\n\t\tx--;\n\n\t\tif ( x < 0 && this.hasVerticalScroll ) {\n\t\t\tx = 0;\n\t\t\ty--;\n\t\t}\n\n\t\tthis.goToPage(x, y, time, easing);\n\t},\n\n\t_initKeys: function (e) {\n\t\t// default key bindings\n\t\tvar keys = {\n\t\t\tpageUp: 33,\n\t\t\tpageDown: 34,\n\t\t\tend: 35,\n\t\t\thome: 36,\n\t\t\tleft: 37,\n\t\t\tup: 38,\n\t\t\tright: 39,\n\t\t\tdown: 40\n\t\t};\n\t\tvar i;\n\n\t\t// if you give me characters I give you keycode\n\t\tif ( typeof this.options.keyBindings == 'object' ) {\n\t\t\tfor ( i in this.options.keyBindings ) {\n\t\t\t\tif ( typeof this.options.keyBindings[i] == 'string' ) {\n\t\t\t\t\tthis.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.options.keyBindings = {};\n\t\t}\n\n\t\tfor ( i in keys ) {\n\t\t\tthis.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];\n\t\t}\n\n\t\tutils.addEvent(window, 'keydown', this);\n\n\t\tthis.on('destroy', function () {\n\t\t\tutils.removeEvent(window, 'keydown', this);\n\t\t});\n\t},\n\n\t_key: function (e) {\n\t\tif ( !this.enabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar snap = this.options.snap,\t// we are using this alot, better to cache it\n\t\t\tnewX = snap ? this.currentPage.pageX : this.x,\n\t\t\tnewY = snap ? this.currentPage.pageY : this.y,\n\t\t\tnow = utils.getTime(),\n\t\t\tprevTime = this.keyTime || 0,\n\t\t\tacceleration = 0.250,\n\t\t\tpos;\n\n\t\tif ( this.options.useTransition && this.isInTransition ) {\n\t\t\tpos = this.getComputedPosition();\n\n\t\t\tthis._translate(Math.round(pos.x), Math.round(pos.y));\n\t\t\tthis.isInTransition = false;\n\t\t}\n\n\t\tthis.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;\n\n\t\tswitch ( e.keyCode ) {\n\t\t\tcase this.options.keyBindings.pageUp:\n\t\t\t\tif ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {\n\t\t\t\t\tnewX += snap ? 1 : this.wrapperWidth;\n\t\t\t\t} else {\n\t\t\t\t\tnewY += snap ? 1 : this.wrapperHeight;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.pageDown:\n\t\t\t\tif ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {\n\t\t\t\t\tnewX -= snap ? 1 : this.wrapperWidth;\n\t\t\t\t} else {\n\t\t\t\t\tnewY -= snap ? 1 : this.wrapperHeight;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.end:\n\t\t\t\tnewX = snap ? this.pages.length-1 : this.maxScrollX;\n\t\t\t\tnewY = snap ? this.pages[0].length-1 : this.maxScrollY;\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.home:\n\t\t\t\tnewX = 0;\n\t\t\t\tnewY = 0;\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.left:\n\t\t\t\tnewX += snap ? -1 : 5 + this.keyAcceleration>>0;\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.up:\n\t\t\t\tnewY += snap ? 1 : 5 + this.keyAcceleration>>0;\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.right:\n\t\t\t\tnewX -= snap ? -1 : 5 + this.keyAcceleration>>0;\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.down:\n\t\t\t\tnewY -= snap ? 1 : 5 + this.keyAcceleration>>0;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\tif ( snap ) {\n\t\t\tthis.goToPage(newX, newY);\n\t\t\treturn;\n\t\t}\n\n\t\tif ( newX > 0 ) {\n\t\t\tnewX = 0;\n\t\t\tthis.keyAcceleration = 0;\n\t\t} else if ( newX < this.maxScrollX ) {\n\t\t\tnewX = this.maxScrollX;\n\t\t\tthis.keyAcceleration = 0;\n\t\t}\n\n\t\tif ( newY > 0 ) {\n\t\t\tnewY = 0;\n\t\t\tthis.keyAcceleration = 0;\n\t\t} else if ( newY < this.maxScrollY ) {\n\t\t\tnewY = this.maxScrollY;\n\t\t\tthis.keyAcceleration = 0;\n\t\t}\n\n\t\tthis.scrollTo(newX, newY, 0);\n\n\t\tthis.keyTime = now;\n\t},\n\n\t_animate: function (destX, destY, duration, easingFn) {\n\t\tvar that = this,\n\t\t\tstartX = this.x,\n\t\t\tstartY = this.y,\n\t\t\tstartTime = utils.getTime(),\n\t\t\tdestTime = startTime + duration;\n\n\t\tfunction step () {\n\t\t\tvar now = utils.getTime(),\n\t\t\t\tnewX, newY,\n\t\t\t\teasing;\n\n\t\t\tif ( now >= destTime ) {\n\t\t\t\tthat.isAnimating = false;\n\t\t\t\tthat._translate(destX, destY);\n\t\t\t\t\n\t\t\t\tif ( !that.resetPosition(that.options.bounceTime) ) {\n\t\t\t\t\tthat._execEvent('scrollEnd');\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnow = ( now - startTime ) / duration;\n\t\t\teasing = easingFn(now);\n\t\t\tnewX = ( destX - startX ) * easing + startX;\n\t\t\tnewY = ( destY - startY ) * easing + startY;\n\t\t\tthat._translate(newX, newY);\n\n\t\t\tif ( that.isAnimating ) {\n\t\t\t\trAF(step);\n\t\t\t}\n\n\t\t\tif ( that.options.probeType == 3 ) {\n\t\t\t\tthat._execEvent('scroll');\n\t\t\t}\n\t\t}\n\n\t\tthis.isAnimating = true;\n\t\tstep();\n\t},\n\n\thandleEvent: function (e) {\n\t\tdebugger\n\t\tswitch ( e.type ) {\n\t\t\tcase 'touchstart':\n\t\t\tcase 'pointerdown':\n\t\t\tcase 'MSPointerDown':\n\t\t\tcase 'mousedown':\n\t\t\t\tthis._start(e);\n\t\t\t\tbreak;\n\t\t\tcase 'touchmove':\n\t\t\tcase 'pointermove':\n\t\t\tcase 'MSPointerMove':\n\t\t\tcase 'mousemove':\n\t\t\t\tthis._move(e);\n\t\t\t\tbreak;\n\t\t\tcase 'touchend':\n\t\t\tcase 'pointerup':\n\t\t\tcase 'MSPointerUp':\n\t\t\tcase 'mouseup':\n\t\t\tcase 'touchcancel':\n\t\t\tcase 'pointercancel':\n\t\t\tcase 'MSPointerCancel':\n\t\t\tcase 'mousecancel':\n\t\t\t\tthis._end(e);\n\t\t\t\tbreak;\n\t\t\tcase 'orientationchange':\n\t\t\tcase 'resize':\n\t\t\t\tthis._resize();\n\t\t\t\tbreak;\n\t\t\tcase 'transitionend':\n\t\t\tcase 'webkitTransitionEnd':\n\t\t\tcase 'oTransitionEnd':\n\t\t\tcase 'MSTransitionEnd':\n\t\t\t\tthis._transitionEnd(e);\n\t\t\t\tbreak;\n\t\t\tcase 'wheel':\n\t\t\tcase 'DOMMouseScroll':\n\t\t\tcase 'mousewheel':\n\t\t\t\tthis._wheel(e);\n\t\t\t\tbreak;\n\t\t\tcase 'keydown':\n\t\t\t\tthis._key(e);\n\t\t\t\tbreak;\n\t\t\tcase 'click':\n\t\t\t\tif ( this.enabled && !e._constructed ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n};\nfunction createDefaultScrollbar (direction, interactive, type) {\n\tvar scrollbar = document.createElement('div'),\n\t\tindicator = document.createElement('div');\n\n\tif ( type === true ) {\n\t\tscrollbar.style.cssText = 'position:absolute;z-index:9999';\n\t\tindicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';\n\t}\n\n\tindicator.className = 'iScrollIndicator';\n\n\tif ( direction == 'h' ) {\n\t\tif ( type === true ) {\n\t\t\tscrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n\t\t\tindicator.style.height = '100%';\n\t\t}\n\t\tscrollbar.className = 'iScrollHorizontalScrollbar';\n\t} else {\n\t\tif ( type === true ) {\n\t\t\tscrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n\t\t\tindicator.style.width = '100%';\n\t\t}\n\t\tscrollbar.className = 'iScrollVerticalScrollbar';\n\t}\n\n\tscrollbar.style.cssText += ';overflow:hidden';\n\n\tif ( !interactive ) {\n\t\tscrollbar.style.pointerEvents = 'none';\n\t}\n\n\tscrollbar.appendChild(indicator);\n\n\treturn scrollbar;\n}\n\nfunction Indicator (scroller, options) {\n\tthis.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n\tthis.wrapperStyle = this.wrapper.style;\n\tthis.indicator = this.wrapper.children[0];\n\tthis.indicatorStyle = this.indicator.style;\n\tthis.scroller = scroller;\n\n\tthis.options = {\n\t\tlistenX: true,\n\t\tlistenY: true,\n\t\tinteractive: false,\n\t\tresize: true,\n\t\tdefaultScrollbars: false,\n\t\tshrink: false,\n\t\tfade: false,\n\t\tspeedRatioX: 0,\n\t\tspeedRatioY: 0\n\t};\n\n\tfor ( var i in options ) {\n\t\tthis.options[i] = options[i];\n\t}\n\n\tthis.sizeRatioX = 1;\n\tthis.sizeRatioY = 1;\n\tthis.maxPosX = 0;\n\tthis.maxPosY = 0;\n\n\tif ( this.options.interactive ) {\n\t\tif ( !this.options.disableTouch ) {\n\t\t\tutils.addEvent(this.indicator, 'touchstart', this);\n\t\t\tutils.addEvent(window, 'touchend', this);\n\t\t}\n\t\tif ( !this.options.disablePointer ) {\n\t\t\tutils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n\t\t\tutils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);\n\t\t}\n\t\tif ( !this.options.disableMouse ) {\n\t\t\tutils.addEvent(this.indicator, 'mousedown', this);\n\t\t\tutils.addEvent(window, 'mouseup', this);\n\t\t}\n\t}\n\n\tif ( this.options.fade ) {\n\t\tthis.wrapperStyle[utils.style.transform] = this.scroller.translateZ;\n\t\tvar durationProp = utils.style.transitionDuration;\n\t\tthis.wrapperStyle[durationProp] = utils.isBadAndroid ? '0.0001ms' : '0ms';\n\t\t// remove 0.0001ms\n\t\tvar self = this;\n\t\tif(utils.isBadAndroid) {\n\t\t\trAF(function() {\n\t\t\t\tif(self.wrapperStyle[durationProp] === '0.0001ms') {\n\t\t\t\t\tself.wrapperStyle[durationProp] = '0s';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.wrapperStyle.opacity = '0';\n\t}\n}\n\nIndicator.prototype = {\n\thandleEvent: function (e) {\n\t\tswitch ( e.type ) {\n\t\t\tcase 'touchstart':\n\t\t\tcase 'pointerdown':\n\t\t\tcase 'MSPointerDown':\n\t\t\tcase 'mousedown':\n\t\t\t\tthis._start(e);\n\t\t\t\tbreak;\n\t\t\tcase 'touchmove':\n\t\t\tcase 'pointermove':\n\t\t\tcase 'MSPointerMove':\n\t\t\tcase 'mousemove':\n\t\t\t\tthis._move(e);\n\t\t\t\tbreak;\n\t\t\tcase 'touchend':\n\t\t\tcase 'pointerup':\n\t\t\tcase 'MSPointerUp':\n\t\t\tcase 'mouseup':\n\t\t\tcase 'touchcancel':\n\t\t\tcase 'pointercancel':\n\t\t\tcase 'MSPointerCancel':\n\t\t\tcase 'mousecancel':\n\t\t\t\tthis._end(e);\n\t\t\t\tbreak;\n\t\t}\n\t},\n\n\tdestroy: function () {\n\t\tif ( this.options.fadeScrollbars ) {\n\t\t\tclearTimeout(this.fadeTimeout);\n\t\t\tthis.fadeTimeout = null;\n\t\t}\n\t\tif ( this.options.interactive ) {\n\t\t\tutils.removeEvent(this.indicator, 'touchstart', this);\n\t\t\tutils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n\t\t\tutils.removeEvent(this.indicator, 'mousedown', this);\n\n\t\t\tutils.removeEvent(window, 'touchmove', this);\n\t\t\tutils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n\t\t\tutils.removeEvent(window, 'mousemove', this);\n\n\t\t\tutils.removeEvent(window, 'touchend', this);\n\t\t\tutils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);\n\t\t\tutils.removeEvent(window, 'mouseup', this);\n\t\t}\n\n\t\tif ( this.options.defaultScrollbars ) {\n\t\t\tthis.wrapper.parentNode.removeChild(this.wrapper);\n\t\t}\n\t},\n\n\t_start: function (e) {\n\t\tvar point = e.touches ? e.touches[0] : e;\n\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tthis.transitionTime();\n\n\t\tthis.initiated = true;\n\t\tthis.moved = false;\n\t\tthis.lastPointX\t= point.pageX;\n\t\tthis.lastPointY\t= point.pageY;\n\n\t\tthis.startTime\t= utils.getTime();\n\n\t\tif ( !this.options.disableTouch ) {\n\t\t\tutils.addEvent(window, 'touchmove', this);\n\t\t}\n\t\tif ( !this.options.disablePointer ) {\n\t\t\tutils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);\n\t\t}\n\t\tif ( !this.options.disableMouse ) {\n\t\t\tutils.addEvent(window, 'mousemove', this);\n\t\t}\n\n\t\tthis.scroller._execEvent('beforeScrollStart');\n\t},\n\n\t_move: function (e) {\n\t\tvar point = e.touches ? e.touches[0] : e,\n\t\t\tdeltaX, deltaY,\n\t\t\tnewX, newY,\n\t\t\ttimestamp = utils.getTime();\n\n\t\tif ( !this.moved ) {\n\t\t\tthis.scroller._execEvent('scrollStart');\n\t\t}\n\n\t\tthis.moved = true;\n\n\t\tdeltaX = point.pageX - this.lastPointX;\n\t\tthis.lastPointX = point.pageX;\n\n\t\tdeltaY = point.pageY - this.lastPointY;\n\t\tthis.lastPointY = point.pageY;\n\n\t\tnewX = this.x + deltaX;\n\t\tnewY = this.y + deltaY;\n\n\t\tthis._pos(newX, newY);\n\n\n\t\tif ( this.scroller.options.probeType == 1 && timestamp - this.startTime > 300 ) {\n\t\t\tthis.startTime = timestamp;\n\t\t\tthis.scroller._execEvent('scroll');\n\t\t} else if ( this.scroller.options.probeType > 1 ) {\n\t\t\tthis.scroller._execEvent('scroll');\n\t\t}\n\n\n// INSERT POINT: indicator._move\n\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t},\n\n\t_end: function (e) {\n\t\tif ( !this.initiated ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.initiated = false;\n\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tutils.removeEvent(window, 'touchmove', this);\n\t\tutils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n\t\tutils.removeEvent(window, 'mousemove', this);\n\n\t\tif ( this.scroller.options.snap ) {\n\t\t\tvar snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n\t\t\tvar time = this.options.snapSpeed || Math.max(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\tMath.min(Math.abs(this.scroller.x - snap.x), 1000),\n\t\t\t\t\t\tMath.min(Math.abs(this.scroller.y - snap.y), 1000)\n\t\t\t\t\t), 300);\n\n\t\t\tif ( this.scroller.x != snap.x || this.scroller.y != snap.y ) {\n\t\t\t\tthis.scroller.directionX = 0;\n\t\t\t\tthis.scroller.directionY = 0;\n\t\t\t\tthis.scroller.currentPage = snap;\n\t\t\t\tthis.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);\n\t\t\t}\n\t\t}\n\n\t\tif ( this.moved ) {\n\t\t\tthis.scroller._execEvent('scrollEnd');\n\t\t}\n\t},\n\n\ttransitionTime: function (time) {\n\t\ttime = time || 0;\n\t\tvar durationProp = utils.style.transitionDuration;\n\t\tthis.indicatorStyle[durationProp] = time + 'ms';\n\n\t\tif ( !time && utils.isBadAndroid ) {\n\t\t\tthis.indicatorStyle[durationProp] = '0.0001ms';\n\t\t\t// remove 0.0001ms\n\t\t\tvar self = this;\n\t\t\trAF(function() {\n\t\t\t\tif(self.indicatorStyle[durationProp] === '0.0001ms') {\n\t\t\t\t\tself.indicatorStyle[durationProp] = '0s';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\ttransitionTimingFunction: function (easing) {\n\t\tthis.indicatorStyle[utils.style.transitionTimingFunction] = easing;\n\t},\n\n\trefresh: function () {\n\t\tthis.transitionTime();\n\n\t\tif ( this.options.listenX && !this.options.listenY ) {\n\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n\t\t} else if ( this.options.listenY && !this.options.listenX ) {\n\t\t\tthis.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n\t\t} else {\n\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n\t\t}\n\n\t\tif ( this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll ) {\n\t\t\tutils.addClass(this.wrapper, 'iScrollBothScrollbars');\n\t\t\tutils.removeClass(this.wrapper, 'iScrollLoneScrollbar');\n\n\t\t\tif ( this.options.defaultScrollbars && this.options.customStyle ) {\n\t\t\t\tif ( this.options.listenX ) {\n\t\t\t\t\tthis.wrapper.style.right = '8px';\n\t\t\t\t} else {\n\t\t\t\t\tthis.wrapper.style.bottom = '8px';\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tutils.removeClass(this.wrapper, 'iScrollBothScrollbars');\n\t\t\tutils.addClass(this.wrapper, 'iScrollLoneScrollbar');\n\n\t\t\tif ( this.options.defaultScrollbars && this.options.customStyle ) {\n\t\t\t\tif ( this.options.listenX ) {\n\t\t\t\t\tthis.wrapper.style.right = '2px';\n\t\t\t\t} else {\n\t\t\t\t\tthis.wrapper.style.bottom = '2px';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar r = this.wrapper.offsetHeight;\t// force refresh\n\n\t\tif ( this.options.listenX ) {\n\t\t\tthis.wrapperWidth = this.wrapper.clientWidth;\n\t\t\tif ( this.options.resize ) {\n\t\t\t\tthis.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n\t\t\t\tthis.indicatorStyle.width = this.indicatorWidth + 'px';\n\t\t\t} else {\n\t\t\t\tthis.indicatorWidth = this.indicator.clientWidth;\n\t\t\t}\n\n\t\t\tthis.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\n\t\t\tif ( this.options.shrink == 'clip' ) {\n\t\t\t\tthis.minBoundaryX = -this.indicatorWidth + 8;\n\t\t\t\tthis.maxBoundaryX = this.wrapperWidth - 8;\n\t\t\t} else {\n\t\t\t\tthis.minBoundaryX = 0;\n\t\t\t\tthis.maxBoundaryX = this.maxPosX;\n\t\t\t}\n\n\t\t\tthis.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));\n\t\t}\n\n\t\tif ( this.options.listenY ) {\n\t\t\tthis.wrapperHeight = this.wrapper.clientHeight;\n\t\t\tif ( this.options.resize ) {\n\t\t\t\tthis.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n\t\t\t\tthis.indicatorStyle.height = this.indicatorHeight + 'px';\n\t\t\t} else {\n\t\t\t\tthis.indicatorHeight = this.indicator.clientHeight;\n\t\t\t}\n\n\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\n\t\t\tif ( this.options.shrink == 'clip' ) {\n\t\t\t\tthis.minBoundaryY = -this.indicatorHeight + 8;\n\t\t\t\tthis.maxBoundaryY = this.wrapperHeight - 8;\n\t\t\t} else {\n\t\t\t\tthis.minBoundaryY = 0;\n\t\t\t\tthis.maxBoundaryY = this.maxPosY;\n\t\t\t}\n\n\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\t\t\tthis.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));\n\t\t}\n\n\t\tthis.updatePosition();\n\t},\n\n\tupdatePosition: function () {\n\t\tvar x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n\t\t\ty = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\n\t\tif ( !this.options.ignoreBoundaries ) {\n\t\t\tif ( x < this.minBoundaryX ) {\n\t\t\t\tif ( this.options.shrink == 'scale' ) {\n\t\t\t\t\tthis.width = Math.max(this.indicatorWidth + x, 8);\n\t\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\t}\n\t\t\t\tx = this.minBoundaryX;\n\t\t\t} else if ( x > this.maxBoundaryX ) {\n\t\t\t\tif ( this.options.shrink == 'scale' ) {\n\t\t\t\t\tthis.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n\t\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\t\tx = this.maxPosX + this.indicatorWidth - this.width;\n\t\t\t\t} else {\n\t\t\t\t\tx = this.maxBoundaryX;\n\t\t\t\t}\n\t\t\t} else if ( this.options.shrink == 'scale' && this.width != this.indicatorWidth ) {\n\t\t\t\tthis.width = this.indicatorWidth;\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t}\n\n\t\t\tif ( y < this.minBoundaryY ) {\n\t\t\t\tif ( this.options.shrink == 'scale' ) {\n\t\t\t\t\tthis.height = Math.max(this.indicatorHeight + y * 3, 8);\n\t\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\t}\n\t\t\t\ty = this.minBoundaryY;\n\t\t\t} else if ( y > this.maxBoundaryY ) {\n\t\t\t\tif ( this.options.shrink == 'scale' ) {\n\t\t\t\t\tthis.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n\t\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\t\ty = this.maxPosY + this.indicatorHeight - this.height;\n\t\t\t\t} else {\n\t\t\t\t\ty = this.maxBoundaryY;\n\t\t\t\t}\n\t\t\t} else if ( this.options.shrink == 'scale' && this.height != this.indicatorHeight ) {\n\t\t\t\tthis.height = this.indicatorHeight;\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t}\n\t\t}\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\tif ( this.scroller.options.useTransform ) {\n\t\t\tthis.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;\n\t\t} else {\n\t\t\tthis.indicatorStyle.left = x + 'px';\n\t\t\tthis.indicatorStyle.top = y + 'px';\n\t\t}\n\t},\n\n\t_pos: function (x, y) {\n\t\tif ( x < 0 ) {\n\t\t\tx = 0;\n\t\t} else if ( x > this.maxPosX ) {\n\t\t\tx = this.maxPosX;\n\t\t}\n\n\t\tif ( y < 0 ) {\n\t\t\ty = 0;\n\t\t} else if ( y > this.maxPosY ) {\n\t\t\ty = this.maxPosY;\n\t\t}\n\n\t\tx = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;\n\t\ty = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;\n\n\t\tthis.scroller.scrollTo(x, y);\n\t},\n\n\tfade: function (val, hold) {\n\t\tif ( hold && !this.visible ) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout(this.fadeTimeout);\n\t\tthis.fadeTimeout = null;\n\n\t\tvar time = val ? 250 : 500,\n\t\t\tdelay = val ? 0 : 300;\n\n\t\tval = val ? '1' : '0';\n\n\t\tthis.wrapperStyle[utils.style.transitionDuration] = time + 'ms';\n\n\t\tthis.fadeTimeout = setTimeout((function (val) {\n\t\t\tthis.wrapperStyle.opacity = val;\n\t\t\tthis.visible = +val;\n\t\t}).bind(this, val), delay);\n\t}\n};\n\nIScroll.utils = utils;\n\nif ( typeof module != 'undefined' && module.exports ) {\n\tmodule.exports = IScroll;\n} else if ( typeof define == 'function' && define.amd ) {\n        define( function () { return IScroll; } );\n} else {\n\twindow.IScroll = IScroll;\n}\n\n})(window, document, Math);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/iscroll/build/iscroll-probe.js\n ** module id = 244\n ** module chunks = 2\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _deepEqual = require('deep-equal');\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PropTypes = _react2.default.PropTypes;\n\n// Events available on iScroll instance\n// [`iScroll event name`, `react component event name`]\n\nvar availableEvents = [['beforeScrollStart', \"onBeforeScrollStart\"], ['scrollCancel', \"onScrollCancel\"], ['scrollStart', \"onScrollStart\"], ['scroll', \"onScroll\"], ['scrollEnd', \"onScrollEnd\"], ['flick', \"onFlick\"], ['zoomStart', \"onZoomStart\"], ['zoomEnd', \"onZoomEnd\"]];\n\nvar iScrollPropType = function iScrollPropType(props, propName, componentName) {\n  var iScroll = props[propName];\n  var proto = iScroll && iScroll.prototype;\n\n  if (!iScroll || !proto || !proto.version || !proto.scrollTo) {\n    return new Error(componentName + \": iScroll not passed to component props.\");\n  } else {\n    if (!/^5\\..*/.test(proto.version)) {\n      console.warn(componentName + \": different version than 5.x.y of iScroll is required. Some features won't work properly.\");\n    }\n\n    if (props.options && props.options.zoom && !proto.zoom) {\n      console.warn(componentName + \": options.zoom is set, but iscroll-zoom version is not required. Zoom feature won't work properly.\");\n    }\n  }\n};\n\n// Generate propTypes with event function validating\nvar propTypes = {\n  defer: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.bool, _react2.default.PropTypes.number]),\n  options: PropTypes.object,\n  iScroll: iScrollPropType,\n  onRefresh: PropTypes.func\n};\n\nfor (var i = 0; i < availableEvents.length; i++) {\n  propTypes[availableEvents[i][1]] = PropTypes.func;\n}\n\nvar ReactIScroll = function (_React$Component) {\n  _inherits(ReactIScroll, _React$Component);\n\n  function ReactIScroll(props) {\n    _classCallCheck(this, ReactIScroll);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ReactIScroll).call(this, props));\n\n    _this._queuedCallbacks = [];\n    _this._iScrollBindedEvents = {};\n    return _this;\n  }\n\n  _createClass(ReactIScroll, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._initializeIScroll();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._teardownIScroll();\n    }\n\n    // There is no state, we can compare only props.\n\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return !(0, _deepEqual2.default)(this.props, nextProps);\n    }\n\n    // Check if iScroll options has changed and recreate instance with new one\n\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      // If options are same, iScroll behaviour will not change. Just refresh events and trigger refresh\n      if ((0, _deepEqual2.default)(prevProps.options, this.props.options)) {\n        this._updateIScrollEvents(prevProps, this.props);\n        this.refresh();\n\n        // If options changed, we will destroy iScroll instance and create new one with same scroll position\n        // TODO test if this will work with indicators\n      } else {\n        this.withIScroll(true, function (iScrollInstance) {\n          // Save current state\n          var x = iScrollInstance.x;\n          var y = iScrollInstance.y;\n          var scale = iScrollInstance.scale;\n\n          // Destroy current and Create new instance of iScroll\n\n          _this2._teardownIScroll();\n          _this2._initializeIScroll();\n\n          _this2.withIScroll(true, function (newIScrollInstance) {\n            // Restore previous state\n            if (scale && newIScrollInstance.zoom) newIScrollInstance.zoom(scale, 0, 0, 0);\n\n            newIScrollInstance.scrollTo(x, y);\n          });\n        });\n      }\n    }\n  }, {\n    key: 'getIScroll',\n    value: function getIScroll() {\n      return this._iScrollInstance;\n    }\n  }, {\n    key: 'getIScrollInstance',\n    value: function getIScrollInstance() {\n      console.warn(\"Function 'getIScrollInstance' is deprecated. Instead use 'getIScroll'\");\n      return this._iScrollInstance;\n    }\n  }, {\n    key: 'withIScroll',\n    value: function withIScroll(waitForInit, callback) {\n      if (!callback && typeof waitForInit == \"function\") {\n        callback = waitForInit;\n      }\n\n      if (this.getIScroll()) {\n        callback(this.getIScroll());\n      } else if (waitForInit === true) {\n        this._queuedCallbacks.push(callback);\n      }\n    }\n  }, {\n    key: 'refresh',\n    value: function refresh() {\n      this.withIScroll(function (iScrollInstance) {\n        return iScrollInstance.refresh();\n      });\n    }\n  }, {\n    key: '_runInitializeIScroll',\n    value: function _runInitializeIScroll() {\n      var _this3 = this;\n\n      var _props = this.props;\n      var iScroll = _props.iScroll;\n      var options = _props.options;\n\n      // Create iScroll instance with given options\n\n      var iScrollInstance = new iScroll(_reactDom2.default.findDOMNode(this), options);\n      this._iScrollInstance = iScrollInstance;\n\n      // TODO there should be new event 'onInitialize'\n      this._triggerRefreshEvent();\n\n      // Patch iScroll instance .refresh() function to trigger our onRefresh event\n      var origRefresh = iScrollInstance.refresh;\n\n      iScrollInstance.refresh = function () {\n        origRefresh.apply(iScrollInstance);\n        _this3._triggerRefreshEvent();\n      };\n\n      // Bind iScroll events\n      this._bindIScrollEvents();\n\n      this._callQueuedCallbacks();\n    }\n  }, {\n    key: '_initializeIScroll',\n    value: function _initializeIScroll() {\n      var _this4 = this;\n\n      var defer = this.props.defer;\n\n\n      if (defer === false) {\n        this._runInitializeIScroll();\n      } else {\n        setTimeout(function () {\n          return _this4._runInitializeIScroll();\n        }, defer);\n      }\n    }\n  }, {\n    key: '_callQueuedCallbacks',\n    value: function _callQueuedCallbacks() {\n      var callbacks = this._queuedCallbacks,\n          len = callbacks.length;\n\n      this._queuedCallbacks = [];\n\n      for (var _i = 0; _i < len; _i++) {\n        callbacks[_i](this.getIScroll());\n      }\n    }\n  }, {\n    key: '_teardownIScroll',\n    value: function _teardownIScroll() {\n      if (this._iScrollInstance) {\n        this._iScrollInstance.destroy();\n        this._iScrollInstance = undefined;\n      }\n    }\n  }, {\n    key: '_bindIScrollEvents',\n    value: function _bindIScrollEvents() {\n      // Bind events on iScroll instance\n      this._iScrollBindedEvents = {};\n      this._updateIScrollEvents({}, this.props);\n    }\n\n    // Iterate through available events and update one by one\n\n  }, {\n    key: '_updateIScrollEvents',\n    value: function _updateIScrollEvents(prevProps, nextProps) {\n      var len = availableEvents.length;\n\n      for (var _i2 = 0; _i2 < len; _i2++) {\n        var _availableEvents$_i = _slicedToArray(availableEvents[_i2], 2);\n\n        var iScrollEventName = _availableEvents$_i[0];\n        var reactEventName = _availableEvents$_i[1];\n\n        this._updateIScrollEvent(iScrollEventName, prevProps[reactEventName], nextProps[reactEventName]);\n      }\n    }\n\n    // Unbind and/or Bind event if it was changed during update\n\n  }, {\n    key: '_updateIScrollEvent',\n    value: function _updateIScrollEvent(iScrollEventName, prevEvent, currentEvent) {\n      var _this5 = this;\n\n      if (prevEvent !== currentEvent) {\n        this.withIScroll(true, function (iScrollInstance) {\n          var currentEvents = _this5._iScrollBindedEvents;\n\n          if (prevEvent) {\n            iScrollInstance.off(iScrollEventName, currentEvents[iScrollEventName]);\n            currentEvents[iScrollEventName] = undefined;\n          }\n\n          if (currentEvent) {\n            var wrappedCallback = function wrappedCallback() {\n              for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n\n              currentEvent.apply(undefined, [iScrollInstance].concat(args));\n            };\n\n            iScrollInstance.on(iScrollEventName, wrappedCallback);\n            currentEvents[iScrollEventName] = wrappedCallback;\n          }\n        });\n      }\n    }\n  }, {\n    key: '_triggerRefreshEvent',\n    value: function _triggerRefreshEvent() {\n      var onRefresh = this.props.onRefresh;\n\n\n      if (onRefresh) {\n        this.withIScroll(function (iScrollInstance) {\n          return onRefresh(iScrollInstance);\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      // Keep only html properties\n      var htmlProps = {};\n\n      for (var prop in this.props) {\n        if (!propTypes[prop]) {\n          htmlProps[prop] = this.props[prop];\n        }\n      }\n\n      return _react2.default.createElement('div', htmlProps);\n    }\n  }]);\n\n  return ReactIScroll;\n}(_react2.default.Component);\n\nReactIScroll.displayName = 'ReactIScroll';\nReactIScroll.propTypes = propTypes;\nReactIScroll.defaultProps = {\n  defer: 0,\n  options: {},\n  style: {\n    position: \"relative\",\n    height: \"100%\",\n    width: \"100%\",\n    overflow: \"hidden\"\n  }\n};\nexports.default = ReactIScroll;\n\n\n/** WEBPACK FOOTER **\n ** ./src/assets/js/react-iscroll.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/todos/todos.less\n ** module id = 246\n ** module chunks = 2\n **/","/**\r\n * Created by hubq on 2016/2/29.\r\n */\r\nconst JsAPI = require('./apifactory');\r\nvar jsAPI = new JsAPI();//拿一个API对象\r\n/*\r\n * 上传图片\r\n * do注入的参数:{ ‘selectedImages’ : [{ id : ‘123abc’ ,name:’***.png’},\r\n {id : ‘456zxc’,name:’***.png’]}\r\n\r\n do :function(responseData) {\r\n alert(responseData. selectedImages[0].id);\r\n }\r\n\r\n\r\n uploadImageHandler回调事件注入参数{id:’’,tempFilePath:’abc123’,result:true}\r\n * */\r\nmodule.exports = {\r\n  //H5调用原生\r\n  limsCaller:function(){\r\n\r\n    return {\r\n      pushView:function(params,callback){\r\n        jsAPI.limsCaller(\"pushView\",params,callback);\r\n        return this;\r\n      },\r\n      popView:function(name,callback){\r\n        jsAPI.limsCaller(\"popView\",name,callback);\r\n        return this;\r\n      },\r\n      setTitle:function(name,callback){\r\n        jsAPI.limsCaller(\"setTitle\",name,callback);\r\n        return this;\r\n      },\r\n      getUser:function(callback){\r\n        jsAPI.limsCaller(\"getUser\",'',callback);\r\n        return this;\r\n      }\r\n\r\n    }\r\n  },\r\n  limsRegister:function(){\r\n    return {\r\n       approveBridge:function(callback){\r\n          jsAPI.limsregister(\"approveBridge\",callback);\r\n         return this;\r\n       }\r\n\r\n    }\r\n  }\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/assets/common/limsapi.js\n **/","/**\n * Created by hubq on 2016/2/26.\n */\n\n/*\n * var JsAPI=require('common/jsapi')\n * var api1=new JsAPI();\n * api1.on('eventName',callback?).on('eventName2',callback?).send('actionName',callback?).do(eventCallback?,eventCallback1?,eventCallback2?);\n * */\n\n\nfunction JsAPI(init) {\n  this.init = init;\n  this.events = [];\n  this.sends = [];\n}\n\nJsAPI.prototype = {\n  destroy: function () {\n    this.events = null;\n    this.sends = null;\n  },\n  inited: window.WebViewJavascriptBridgeInited || false,//因为最多仅能初始化一次\n  doAndInit: function (callback) {\n    var me = this;\n    if (WebViewJavascriptBridge) {\n      !window.WebViewJavascriptBridgeInited && WebViewJavascriptBridge.init(function (message, responseCallback) {\n        me.init && me.init(message, responseCallback);\n      });\n      if (!window.WebViewJavascriptBridgeInited) {\n        window.WebViewJavascriptBridgeInited = true;\n      }\n      callback(WebViewJavascriptBridge);\n    }\n  },\n  connectWebViewJavascriptBridge: function (callback) {\n    //网上安卓方案\n    //if (window.WebViewJavascriptBridge) {\n    //  callback(WebViewJavascriptBridge)\n    //} else {\n    //  document.addEventListener(\n    //      'WebViewJavascriptBridgeReady'\n    //      , function() {\n    //        callback(WebViewJavascriptBridge)\n    //      },\n    //      false\n    //  );\n    //}\n    //原始方案\n    //var me = this;\n    //if (window.WebViewJavascriptBridge) {\n    //  me.doAndInit(callback);\n    //  me.inited = window.WebViewJavascriptBridgeInited = true;\n    //} else if (!me.inited) {\n    //  !window.WebViewJavascriptBridgeEventAdded && document.addEventListener('WebViewJavascriptBridgeReady', function () {\n    //    me.doAndInit(callback);\n    //  }, false);\n    //  me.inited = true;\n    //  window.WebViewJavascriptBridgeEventAdded = true;\n    //}\n    //return this;\n\n    if (window.WebViewJavascriptBridge) { return callback(WebViewJavascriptBridge); }\n    if (window.WVJBCallbacks) { return window.WVJBCallbacks.push(callback); }\n    window.WVJBCallbacks = [callback];\n    var WVJBIframe = document.createElement('iframe');\n    WVJBIframe.style.display = 'none';\n    WVJBIframe.src = 'wvjbscheme://__BRIDGE_LOADED__';\n    document.documentElement.appendChild(WVJBIframe);\n    setTimeout(function() { document.documentElement.removeChild(WVJBIframe) }, 0)\n  },\n  //H5发送消息给原生\n  limsCaller: function (name, params, callback) {\n    var me = this;\n    try {\n      me.connectWebViewJavascriptBridge(function (bridge) {\n        bridge.callHandler(name, params, function (response) {\n          if (callback) {\n            callback(response);\n          }\n        });\n      });\n    } catch (e) {\n    }\n    return this;\n  },\n  //原生调用JS\n  limsregister: function (name, callback) {\n    var me = this;\n    try {\n      me.connectWebViewJavascriptBridge(function (bridge) {\n        //bridge.init(function(message, responseCallback) {\n        //  console.log('JS got a message', message);\n        //  var data = {\n        //    'Javascript Responds': 'Wee!'\n        //  };\n        //  console.log('JS responding with', data);\n        //  responseCallback(data);\n        //});\n        bridge.registerHandler(name, function (data, responseCallback) {\n           callback(data, responseCallback);\n        });\n\n      });\n    } catch (e) {\n    }\n    return this;\n\n  },\n  on: function (name, callback, rightNow) {\n    this.events.push({name: name, callback: callback});\n    if (rightNow) {\n      this.do();\n    }\n    return this;\n  },\n  send: function (name, callback, rightNow) {\n    this.sends.push({name: name, callback: callback});\n    if (rightNow) {\n      this.do();\n    }\n    return this;\n  },\n  do: function () {\n    var funcs = [].slice.call(arguments);\n    var me = this;\n    try {\n      me.connectWebViewJavascriptBridge(function (bridge) {\n        me.events.forEach((n, i)=> {\n          (function (name, callback) {\n            bridge.registerHandler(name, function (responseData) {\n              callback && callback(responseData);\n              funcs.length > i && funcs[i](responseData);\n            })\n          })(n.name, n.callback);\n        });\n        me.events = [];//绑定完后清空掉\n        me.sends.forEach((n, i)=> {\n          (function (name, callback) {\n            bridge.send({action: name}, function (responseData) {\n              callback && callback(responseData);\n            })\n          })(n.name, n.callback);\n        });\n        me.sends = [];//执行完后清空掉\n      });\n    } catch (e) {\n    }\n    return this;\n  }\n};\nmodule.exports = JsAPI;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/assets/common/apifactory.js\n **/","(function() {\n\n    //如果页面上存在id为mo_refresh_mask的元素  则下边的代码就不执行了\n    if (document.getElementById('mo_refresh_mask')) {\n        return;\n    }\n\n    //动态创建DOM节点元素  （刷新组件的页面结构）\n    var oImgRefresh = createEle('div', {\n        'id': 'mo_refresh_mask_flush'\n    });\n    var mask = createEle('div', {\n        'id': 'mo_refresh_mask'\n    });\n\n    /*\n     *  动态创建DOM节点元素 并赋值id 图片路径\n     *  @param tagName (增加标签类型)\n     *  @param attr (增加id或src及属性)\n     *\n     */\n    function createEle(tagName, attrs) {\n        var temp = document.createElement(tagName);\n        for (var key in attrs) {\n            if (attrs.hasOwnProperty(key)) {\n                temp.setAttribute(key, attrs[key]);\n            }\n        }\n        return temp;\n    }\n\n    //插入新的节点\n    mask.appendChild(oImgRefresh);\n\n    //将新建的DOM结构放在body下\n    document.body.appendChild(mask);\n\n    //私有化 暴露接口\n    window.refresh = {\n\n        //显示刷新图片 和遮罩层\n        show: function() {\n            mask.style.display = \"block\";\n            oImgRefresh.style.display = \"block\";\n        },\n\n        //隐藏刷新图片和遮罩层\n        hide: function() {\n            mask.style.display = \"none\";\n            oImgRefresh.style.display = \"none\";\n        }\n    }\n})();;\n(function($) {\n\n    //\n    // 对Date的扩展，将 Date 转化为指定格式的String\n    // 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符， \n    // 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字) \n    // 例子： \n    // (new Date())._format(\"yyyy-MM-dd hh:mm:ss.S\") ==> 2006-07-02 08:09:04.423 \n    // (new Date())._format(\"yyyy-M-d h:m:s.S\")      ==> 2006-7-2 8:9:4.18 \n    //\n    Date.prototype._format = function(fmt) { //author: meizz \n        var o = {\n            \"M+\": this.getMonth() + 1, //月份 \n            \"d+\": this.getDate(), //日 \n            \"h+\": this.getHours(), //小时 \n            \"m+\": this.getMinutes(), //分 \n            \"s+\": this.getSeconds(), //秒 \n            \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度 \n            \"S\": this.getMilliseconds() //毫秒 \n        };\n        if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n        for (var k in o)\n            if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n        return fmt;\n    };\n\n    var win = window,\n        TIME_OUT = 300000; //请求超时时间\n\n\n    var $body = $('body');\n    /**\n     *@description工具类对象\n     */\n    var util = {\n        clone: function clone(obj){\n            function Fn(){}\n            Fn.prototype = obj;\n            var o = new Fn();\n            for(var a in o){\n                if(typeof o[a] == \"object\") {\n                    o[a] = clone(o[a]);\n                }\n            }\n            return o;\n        },\n\n        /*\n         *  计算日期\n         *  @param AddDayCount {number}\n         *  根据输入的 number 计算返回的日期\n         *  如 -1 返回昨天的日期\n         */\n        getDateStr: function(AddDayCount) {\n\n            var dd = new Date();\n            dd.setDate(dd.getDate() + AddDayCount); //获取AddDayCount天后的日期\n            var y = dd.getFullYear();\n            var m = dd.getMonth() + 1; //获取当前月份的日期\n            var d = dd.getDate();\n            return y + \"-\" + (m < 10 ? '0' + m : m) + \"-\" + (d < 10 ? '0' + d : d);\n        },\n        showLoading:function(){\n            window.refresh && window.refresh.show();\n        },\n        hidLoading:function(){\n            window.refresh && window.refresh.hide();\n        },\n        /**\n         * @desc 显示toast\n         *\n         */\n        showToast: function(msg) {\n            var htmlStr = '<div class=\"error-box\">' + msg + '</div>'\n            $body.append(htmlStr);\n            if (timer) {\n                win.clearTimeout(timer);\n            }\n            var timer = win.setTimeout(function() {\n                $body.find('.error-box').remove();\n            }, 2000);\n        },\n\n        /**\n         * 显示提示\n         *\n         */\n\n        showTip: function(msg) {\n            var htmlStr = '<div class=\"info-box\">' + msg + '</div>'\n            $body.append(htmlStr);\n            if (timer) {\n                win.clearTimeout(timer);\n            }\n            var timer = win.setTimeout(function() {\n                $body.find('.info-box').remove();\n            }, 3000);\n        },\n        /**\n         * @desc重新封装ajax\n         * @param {Object} opt\n         *\n         */\n\n        ajax: function(opt) {\n            var me = this;\n\n            opt = $.extend({\n                keepLoading: true,\n                hideLoading: true\n            }, opt);\n\n            var data = $.extend({\n                '_t': new Date().getTime()\n            }, opt.data || {});\n\n            return $.ajax({\n                type: opt.type || 'GET',\n                url: opt.url || '',\n                data: data,\n                dataType: opt.dataType,\n                timeout: TIME_OUT,\n                success: function(data, status, xhr) {\n                    opt.success && opt.success(data, status, xhr);\n                },\n                error: function() {\n                    me.showToast('网络请求错误！');\n                    opt.error && opt.error();\n                }\n            });\n        },\n\n        /**\n         *\n         * @desc数据请求接口\n         * @param {Object} opt\n         * @param bool     mask true时显示遮罩 false时不显示\n         */\n\n        api: function(opt, mask) {\n            var that = this,\n                beforeSend = opt.beforeSend,\n                success = opt.success,\n                complete = opt.complete,\n                error = opt.error;\n\n            //默认设置\n            opt = $.extend({\n                type: 'post',\n                cache: false,\n                timeout: TIME_OUT,\n                dataType: 'json',\n                button: {\n                    'text': '提交中',\n                    'el': null,\n                }\n            }, opt || {});\n\n            //\n            // 按钮原始文本\n            var btntext;\n            if (opt.button.el) {\n                btntext = opt.button.el.text();\n            }\n\n            /**\n             *\n             * 如果 url是 ~ 开头 则从根路径请求\n             * 否则 从全局配置的api路径请求\n             */\n\n            if (opt.url.indexOf('~') == 0) {\n                opt.url = opt.url.slice(1);\n            }\n            //else {\n            //    opt.url = IBSS.API_PATH + opt.url;\n            //}\n\n            var _startTime = Date.now();\n\n            opt.beforeSend = function() {\n                window.refresh && window.refresh.show();\n                //if (mask == true) {\n                //    util.showGlobalLoading();\n                //}\n                opt.button.el && opt.button.el.attr('disabled', 'disabled').text(opt.button.text);\n                return beforeSend && beforeSend.apply(this, arguments);\n            };\n\n            opt.success = function(data, status, xhr) {\n                if (data.login == false) {\n                    location.href = \"/login?from=\" + location.pathname;\n                    return;\n                }\n\n                if (!data.msgcode) {\n                    //截取20位\n                    if (data.msg && data.msg.length > 20) {\n                        data.msg = data.msg.slice(0, 20);\n                    } else {\n                        data.msg = data.msg + ',请尝试刷新！';\n                    }\n\n                    that.showToast('请求错误  ' + data.msg);\n                }\n                return success && success.apply(this, arguments);\n            };\n            opt.error = function(info) {\n\n                if (info && info.statusText == \"abort\") return;\n                if(info && info.status == 0)return;\n                that.showToast('网络错误' + '(' + info.status + ')' + '!');\n                return error && error.apply(this);\n            };\n            opt.complete = function() {\n                window.refresh && window.refresh.hide();\n\n                // 采集接口耗时\n                var time = Date.now() - _startTime;\n                // var api = _.parseURL(url).path;\n                window.FS && FS.collector && FS.collector.log('api', {\n                    api: opt.url,\n                    time: time\n                }, true);\n\n                //if (mask == true) {\n                //    util.hideGlobalLoading();\n                //}\n                opt.button.el && opt.button.el.removeAttr('disabled').text(btntext);\n                return complete && complete.apply(this, arguments);\n            }\n            return $.ajax(opt);\n        }\n\n\n    };\n\n    win.util = util;\n\n}(window.Zepto));\n\n\n/** WEBPACK FOOTER **\n ** ./src/assets/js/util.js\n **/","let limsRegister = require('assets/common/limsapi').limsRegister();\n;(function (win, config) {\n  //var win = window,\n  //\tIBSS = win.IBSS;\n\n  config.host = 'http://10.238.18.59:8016/1.0/';\n  config.apihost = 'http://10.238.18.59:8016/';\n  config.isApp = 0; //1为APP模式，0为WEB模式\n\n  //审核类型  分析任务审核为1，合格证审核为2\n  config.approve = [1, 2];\n\n  /**\n   * @type {Object}\n   * 全局命名空间\n   */\n  win.LimsUser = win.LimsUser || {};\n  LimsUser.IDENTITY = 'SYSTEM'; //当前用户信息\n  LimsUser.NAME = '系统'; //客服 id->名字 map\n  LimsUser.EMAIL = '';\n  LimsUser.ROLE = '';\n  LimsUser.GROUP_ID = '';\n  LimsUser.position = {\n    'latitude': '',\n    'longitude': '',\n    'message': '',\n    'city': ''\n  }; //位置信息\n\n  if (config.isApp) {\n    LimsUser.IDENTITY='';\n    LimsUser.NAME='';\n\n  }\n\n  //var baseObj = {\n  //\t\t/**\n  //\t\t * 获取用户信息\n  //\t\t */\n  //\t\tgetAccount: function( callback ){\n  //\t\t\tvar me = this;\n  //\n  //\t\t\tutil.api({\n  //\t\t\t\turl: '~/g/api/account/getloginaccount',\n  //\t\t\t\tsuccess: function (data) {\n  //\n  //\t\t\t\t\tif (data.success) {\n  //\t\t\t\t\t\tIBSS.role = data.value.model;\n  //\t\t\t\t\t\t$('#accountname').text(data.value.model.name);\n  //\n  //\t\t\t\t\t\tIBSS.FUNCTIONS = data.value.model.functionCodes.concat(data.value.model.ancientFunctionCodes)\n  //\n  //\t\t\t\t\t\tcallback && callback();\n  //\t\t\t\t\t}\n  //\t\t\t\t}\n  //\t\t\t});\n  //\t\t},\n  //\t/**\n  //     *\n  //     * 遍历所有含有 [data-permissons] 属性的元素\n  //     * 如果其所含的 code 在 IBSS.FUNCTIONS 内存在\n  //     * 则显示\n  //    */\n  //\tsetPermissions:function($el){\n  //\t\tvar $el = $el || $('body');\n  //\t\t$el.find('[data-permissions]').each(function(){\n  //\t\t\tvar $this = $( this ),\n  //\t\t\t    codes = $this.attr('data-permissions').split(/\\s+/);\n  //\n  //\t\t\tvar bool = false;\n  //\t\t\tfor( var i = 0; i < IBSS.FUNCTIONS.length ; i++ ){\n  //\n  //\t\t\t\tfor( var j = 0; j < codes.length ; j++ ){\n  //\t\t\t\t\tif( codes[j] == IBSS.FUNCTIONS[i] ){\n  //\t\t\t\t\t\t$this.show();\n  //\t\t\t\t\t\tbool = true;\n  //\t\t\t\t\t\tbreak;\n  //\t\t\t\t\t}\n  //\t\t\t\t}\n  //\t\t\t\tif(bool == true){\n  //\t\t\t\t\tbreak;\n  //\t\t\t\t}\n  //\t\t\t}\n  //\t\t\tif(bool == false){\n  //\t\t\t\t$this.remove();\n  //\t\t\t}\n  //\t\t});\n  //\t}\n  //};\n  //\n  //IBSS.baseObj= baseObj;\n})(window, window.LimsConfig || (window.LimsConfig = {}))\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/assets/js/config.js\n **/","/**\r\n * Created by gaoxin on 2016/8/26.\r\n */\r\nlet limsCaller = require('assets/common/limsapi').limsCaller();\r\n\r\nmodule.exports = {\r\n  getUser:function(callback){\r\n    if (LimsConfig.isApp) {\r\n      limsCaller.getUser(callback);\r\n    }else{\r\n      callback(LimsUser);\r\n    }\r\n\r\n  },\r\n  setUser:function(data){\r\n\r\n    if (data) {\r\n      LimsUser.IDENTITY = data.IDENTITY;\r\n      LimsUser.NAME = data.NAME;\r\n      LimsUser.EMAIL = data.EMAIL;\r\n      LimsUser.ROLE = data.ROLE;\r\n      LimsUser.GROUP_ID = data.GROUP_ID;\r\n\r\n      //responseCallback&&responseCallback(1);\r\n    }\r\n\r\n  },\r\n  getURL: function (to) {\r\n  //参数化对象 到字符串\r\n    function paramUrl(obj) {\r\n      obj = obj || {};\r\n      var result = [];\r\n      for (var i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n          result.push(i + \"=\" + obj[i]);\r\n        }\r\n      }\r\n      return result.join('&');\r\n    }\r\n\r\n    //如果存在search属性，则是传入link的query对象\r\n    if (to && to.search) {\r\n      return `${LimsConfig.host}todos.html#${to.pathname}${to.search}`;\r\n    }\r\n    //自己解析参数，拼成URL\r\n    let _query = paramUrl(to.query);\r\n    return `${LimsConfig.host}todos.html#${to.pathname}?${_query}`;\r\n  },\r\n\r\n  setTitle: function (name) {\r\n    if (LimsConfig.isApp) {\r\n      limsCaller.setTitle(name);\r\n    }\r\n  },\r\n\r\n  popView: function (name) {\r\n    if (LimsConfig.isApp) {\r\n      limsCaller.popView(name);\r\n    }\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/todos/todohelp.js\n **/"],"sourceRoot":""}